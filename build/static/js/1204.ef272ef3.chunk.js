"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1204],{61204:(e,t,c)=>{c.r(t),c.d(t,{default:()=>j});var r=c(72791),s=c(30018),n=c(62591),a=c(43360),i=c(17612),l=c(55294),d=c(9806),o=c(11632),h=c(80184);const x="http://api1.chandrakala.co.in",j=()=>{const[e,t]=(0,r.useState)([]),[c,j]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[u,v]=(0,r.useState)(!1),[f,k]=(0,r.useState)(!0),[Z,y]=(0,r.useState)(null),[b,g]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const e=await l.Z.get("http://api1.chandrakala.co.in/api/Tickets/Archived");t(e.data),k(!1)}catch(Z){console.error("Error fetching archived tickets:",Z),k(!1)}})()}),[]);const C=()=>{m(null),v(!1)};return(0,h.jsxs)("div",{className:"mt-6 table-responsive",children:[Z&&(0,h.jsx)(s.Z,{variant:"danger",children:Z}),f?(0,h.jsx)("div",{children:"Loading..."}):(0,h.jsxs)(n.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"S.No"}),(0,h.jsx)("th",{children:"TicketID"}),(0,h.jsx)("th",{children:"Title"}),(0,h.jsx)("th",{children:"Status"}),(0,h.jsx)("th",{children:"Priority"}),(0,h.jsx)("th",{children:"TicketType"}),(0,h.jsx)("th",{children:"DueDate"}),(0,h.jsx)("th",{children:"Department"}),(0,h.jsx)("th",{children:"ProjectType"}),(0,h.jsx)("th",{children:"Action"})]})}),(0,h.jsx)("tbody",{children:e.map(((e,t)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:t+1}),(0,h.jsx)("td",{children:e.ticketId}),(0,h.jsx)("td",{children:e.title}),(0,h.jsx)("td",{children:e.status}),(0,h.jsx)("td",{children:e.priority}),(0,h.jsx)("td",{children:e.ticketType}),(0,h.jsx)("td",{children:new Date(e.dueDate).toLocaleString()}),(0,h.jsx)("td",{children:e.department}),(0,h.jsx)("td",{children:e.projectType}),(0,h.jsxs)("td",{children:[(0,h.jsx)(a.Z,{onClick:()=>(e=>{m(e),j(!0)})(e),children:(0,h.jsx)(d.G,{icon:o.Mdf,className:"text-success"})}),(0,h.jsx)(a.Z,{onClick:()=>(e=>{m(e),v(!0)})(e),children:(0,h.jsx)(d.G,{icon:o.jHE,className:"text-danger"})})]})]},e.ticketId)))})]}),(0,h.jsxs)(i.Z,{show:u,onHide:C,children:[(0,h.jsx)(i.Z.Header,{closeButton:!0,children:(0,h.jsx)(i.Z.Title,{children:"Confirm Unarchive"})}),(0,h.jsxs)(i.Z.Body,{children:["Are you sure you want to unarchive ticket ",p?p.ticketId:"","?"]}),(0,h.jsxs)(i.Z.Footer,{children:[(0,h.jsx)(a.Z,{variant:"secondary",onClick:C,children:"Cancel"}),(0,h.jsx)(a.Z,{variant:"danger",onClick:async()=>{try{await l.Z.post("".concat("http://api1.chandrakala.co.in/api/Tickets","/").concat(p.ticketId,"/unarchive"))}catch(Z){console.error("Error unarchiving ticket:",Z)}finally{C()}},children:"Unarchive"})]})]}),p&&(0,h.jsxs)(i.Z,{show:c,onHide:()=>j(!1),size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,h.jsx)(i.Z.Header,{closeButton:!0,children:(0,h.jsx)(i.Z.Title,{id:"contained-modal-title-vcenter",children:"Ticket Details"})}),(0,h.jsxs)(i.Z.Body,{children:[(0,h.jsxs)("p",{children:["Title: ",p.title]}),(0,h.jsxs)("p",{children:["Description: ",p.description]}),(0,h.jsxs)("p",{children:["Creator ID: ",p.email]}),(0,h.jsxs)("p",{children:["Assignee ID: ",p.assigneeEmail]}),(0,h.jsx)("p",{children:"Attachments:"}),p.attachment&&(0,h.jsx)("div",{children:w&&/\.(png|jpg|jpeg|gif|bmp)$/i.test(p.attachment)?(0,h.jsx)("img",{src:"".concat(x,"/").concat(p.attachment.replace("wwwroot/","")),alt:"Attachment",className:"img-fluid"}):(0,h.jsx)("p",{children:(0,h.jsx)("a",{href:"".concat(x,"/").concat(p.attachment.replace("wwwroot/","")),target:"_blank",rel:"noopener noreferrer",children:"View Attachment"})})})]}),(0,h.jsx)(i.Z.Footer,{children:(0,h.jsx)(a.Z,{onClick:()=>j(!1),children:"Close"})})]})]})}},30018:(e,t,c)=>{c.d(t,{Z:()=>Z});var r=c(81694),s=c.n(r),n=c(72791),a=c(80239),i=c(39007),l=c(10162),d=c(27472),o=c(80184);const h=(0,d.Z)("h4");h.displayName="DivStyledAsH4";const x=n.forwardRef(((e,t)=>{let{className:c,bsPrefix:r,as:n=h,...a}=e;return r=(0,l.vE)(r,"alert-heading"),(0,o.jsx)(n,{ref:t,className:s()(c,r),...a})}));x.displayName="AlertHeading";const j=x;var p=c(16445);const m=n.forwardRef(((e,t)=>{let{className:c,bsPrefix:r,as:n=p.Z,...a}=e;return r=(0,l.vE)(r,"alert-link"),(0,o.jsx)(n,{ref:t,className:s()(c,r),...a})}));m.displayName="AlertLink";const u=m;var v=c(72709),f=c(80473);const k=n.forwardRef(((e,t)=>{const{bsPrefix:c,show:r=!0,closeLabel:n="Close alert",closeVariant:d,className:h,children:x,variant:j="primary",onClose:p,dismissible:m,transition:u=v.Z,...k}=(0,a.Ch)(e,{show:"onClose"}),Z=(0,l.vE)(c,"alert"),y=(0,i.Z)((e=>{p&&p(!1,e)})),b=!0===u?v.Z:u,g=(0,o.jsxs)("div",{role:"alert",...b?void 0:k,ref:t,className:s()(h,Z,j&&"".concat(Z,"-").concat(j),m&&"".concat(Z,"-dismissible")),children:[m&&(0,o.jsx)(f.Z,{onClick:y,"aria-label":n,variant:d}),x]});return b?(0,o.jsx)(b,{unmountOnExit:!0,...k,ref:void 0,in:r,children:g}):r?g:null}));k.displayName="Alert";const Z=Object.assign(k,{Link:u,Heading:j})},62591:(e,t,c)=>{c.d(t,{Z:()=>l});var r=c(81694),s=c.n(r),n=c(72791),a=c(10162),i=c(80184);const l=n.forwardRef(((e,t)=>{let{bsPrefix:c,className:r,striped:n,bordered:l,borderless:d,hover:o,size:h,variant:x,responsive:j,...p}=e;const m=(0,a.vE)(c,"table"),u=s()(r,m,x&&"".concat(m,"-").concat(x),h&&"".concat(m,"-").concat(h),n&&"".concat(m,"-").concat("string"===typeof n?"striped-".concat(n):"striped"),l&&"".concat(m,"-bordered"),d&&"".concat(m,"-borderless"),o&&"".concat(m,"-hover")),v=(0,i.jsx)("table",{...p,className:u,ref:t});if(j){let e="".concat(m,"-responsive");return"string"===typeof j&&(e="".concat(e,"-").concat(j)),(0,i.jsx)("div",{className:e,children:v})}return v}))}}]);
//# sourceMappingURL=1204.ef272ef3.chunk.js.map