"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7329],{7329:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var c=r(72791),s=r(24849),a=r(62591),n=r(88890),i=r.n(n),o=r(80184);const d=e=>{let{tickets:t}=e;const r=(0,c.useRef)(null);return(0,c.useEffect)((()=>{i()(r.current).DataTable()}),[]),(0,o.jsx)("div",{className:"mt-6 table-responsive",children:(0,o.jsxs)(a.Z,{striped:!0,bordered:!0,hover:!0,ref:r,className:"table-primary",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"S.No"}),(0,o.jsx)("th",{children:"Title"}),(0,o.jsx)("th",{children:"Status"}),(0,o.jsx)("th",{children:"Priority"}),(0,o.jsx)("th",{children:"DueDate"})]})}),(0,o.jsx)("tbody",{children:t.map(((e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:t+1}),(0,o.jsx)("td",{children:e.title}),(0,o.jsx)("td",{children:e.status}),(0,o.jsx)("td",{children:e.priority}),(0,o.jsx)("td",{children:new Date(e.dueDate).toLocaleString()})]},e.ticketId)))})]})})},l="http://api1.chandrakala.co.in",h=()=>{const[e,t]=(0,c.useState)([]),[r,a]=(0,c.useState)(!0);return(0,c.useEffect)((()=>{fetch("".concat(l,"/api/Tickets/status/completed")).then((e=>{if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));return e.json()})).then((e=>{t(e),a(!1)})).catch((e=>{console.error("Error fetching user data:",e),a(!1)}));(async()=>{try{const e=await fetch("".concat(l,"/api/Tickets")),r=(await e.json()).filter((e=>"Completed"===e.priority));t(r)}catch(e){console.error("Error fetching tickets",e)}})()}),[]),(0,o.jsx)("div",{children:r?(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)(s.Z,{animation:"border",role:"status",children:(0,o.jsx)("span",{className:"visually-hidden",children:"loading.."})})}):(0,o.jsx)(d,{tickets:e})})}},62591:(e,t,r)=>{r.d(t,{Z:()=>o});var c=r(81694),s=r.n(c),a=r(72791),n=r(10162),i=r(80184);const o=a.forwardRef(((e,t)=>{let{bsPrefix:r,className:c,striped:a,bordered:o,borderless:d,hover:l,size:h,variant:u,responsive:j,...p}=e;const x=(0,n.vE)(r,"table"),f=s()(c,x,u&&"".concat(x,"-").concat(u),h&&"".concat(x,"-").concat(h),a&&"".concat(x,"-").concat("string"===typeof a?"striped-".concat(a):"striped"),o&&"".concat(x,"-bordered"),d&&"".concat(x,"-borderless"),l&&"".concat(x,"-hover")),m=(0,i.jsx)("table",{...p,className:f,ref:t});if(j){let e="".concat(x,"-responsive");return"string"===typeof j&&(e="".concat(e,"-").concat(j)),(0,i.jsx)("div",{className:e,children:m})}return m}))}}]);
//# sourceMappingURL=7329.0f8167f0.chunk.js.map