"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7080],{97080:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var r=a(72791),t=a(11087),c=a(93647),n=a(47022),l=a(95313),o=a(30018),d=a(42076),i=a(89743),m=a(2677),u=a(43360),x=a(55294),f=a(24846),h=a(583),w=(a(3327),a(32445)),p=a(80184);const N="#FF725E",v=()=>{const{logout:e,user:s}=(0,h.a)(),[a,v]=(0,r.useState)({currentPassword:"",newPassword:""}),[j,g]=(0,r.useState)({}),[b,y]=(0,r.useState)({currentPassword:!1,newPassword:!1}),[P,Z]=(0,r.useState)(!1),[C,k]=(0,r.useState)({success:"",error:""}),E=async()=>{if((()=>{const{currentPassword:e,newPassword:s}=a,r={};return["currentPassword","newPassword"].forEach((e=>{a[e]||(r[e]="".concat(e.charAt(0).toUpperCase()+e.slice(1)," is required"))})),s.length<8&&(r.newPassword="New Password must be at least 8 characters long"),g(r),0===Object.keys(r).length})()){Z(!0);try{const r=await x.Z.put("".concat("http://api1.chandrakala.co.in/api/Login/ChangePassword","/").concat(s.userId),{currentPassword:a.currentPassword,newPassword:a.newPassword});200===r.status?(k({success:"Your password has been changed. Please login again.",error:""}),setTimeout((()=>{e()}),3e3)):400===r.status?k({success:"",error:"Enter Correct Old Password!"}):k({success:"",error:"Password change failed. Please try again."})}catch(r){k({success:"",error:"Enter Correct Old Password!"})}finally{Z(!1)}}};return(0,p.jsx)(w.Z,{bgimg:"bgimgchangepass",theme:N,children:(0,p.jsx)(n.Z,{children:(0,p.jsxs)(l.Z,{children:[(0,p.jsx)("h1",{children:"Change Password"}),(0,p.jsx)("p",{children:"Change your password"}),C.success&&(0,p.jsx)(o.Z,{variant:"success",children:C.success}),C.error&&(0,p.jsx)(o.Z,{variant:"danger",children:C.error}),["currentPassword","newPassword"].map((e=>(0,p.jsx)("div",{className:"mb-4",children:(0,p.jsxs)(d.Z,{hasValidation:!0,children:[(0,p.jsx)(d.Z.Text,{children:(0,p.jsx)(f.Z,{icon:c.U})}),(0,p.jsx)(l.Z.Control,{type:b[e]?"text":"password",placeholder:"currentPassword"===e?"Current Password":"New Password",autoComplete:"currentPassword"===e?"old-password":"new-password",value:a[e],onChange:s=>((e,s)=>{if(v((a=>({...a,[e]:s}))),g((a=>({...a,[e]:s.trim()?"":"".concat(e.charAt(0).toUpperCase()+e.slice(1)," is required")}))),"newPassword"===e){const e=/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/;g((a=>({...a,newPassword:s.length<8?"New Password must be at least 8 characters long":e.test(s)?"":"Password must contain at least one letter, one number, and one special character"})))}"currentPassword"===e&&k({success:"",error:""})})(e,s.target.value),isInvalid:!!j[e]}),(0,p.jsx)(d.Z.Text,{onClick:()=>(e=>{y((s=>({...s,[e]:!s[e]})))})(e),className:"hovericon",children:b[e]?(0,p.jsx)("i",{className:"fa-solid fa-eye"}):(0,p.jsx)("i",{className:"fa-solid fa-eye-slash"})}),(0,p.jsx)(l.Z.Control.Feedback,{type:"invalid",children:j[e]})]})},e))),(0,p.jsxs)(i.Z,{children:[(0,p.jsx)(m.Z,{xs:6,className:"align-items-start",children:(0,p.jsx)(u.Z,{variant:"primary",className:"px-4 ",style:{backgroundColor:N},onClick:E,disabled:P,children:P?"Changing Password...":"Change Password"})}),(0,p.jsx)(m.Z,{xs:6,className:"text-end fs-5",children:(0,p.jsx)(t.rU,{to:"/Login",color:"primary",className:"px-4",style:{color:N},onClick:E,children:"Login"})})]})]})})})}},32445:(e,s,a)=>{a.d(s,{Z:()=>h});var r=a(72791),t=a(47022),c=a(89743),n=a(2677),l=a(81694),o=a.n(l),d=a(10162),i=a(80184);const m=r.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:t="div",...c}=e;return r=(0,d.vE)(r,"card-group"),(0,i.jsx)(t,{ref:s,className:o()(a,r),...c})}));m.displayName="CardGroup";const u=m;var x=a(26514),f=a(99033);const h=e=>{let{children:s,bgimg:a,theme:r}=e;return(0,i.jsx)("div",{children:(0,i.jsx)("main",{className:"blur-5",children:(0,i.jsx)("div",{className:"bg-body-tertiary min-vw-100 min-vh-100 d-flex align-items-center blur-5",children:(0,i.jsx)(t.Z,{fluid:!0,className:"align-items-center loginbg ",children:(0,i.jsxs)(c.Z,{className:"align-items-center justify-content-center",children:[(0,i.jsx)(n.Z,{md:8,lg:6,className:"d-flex vh-100 d-none d-lg-block ".concat(a," border-end border-4")}),(0,i.jsx)(n.Z,{sm:8,md:7,lg:6,className:"d-flex vh-100 align-items-center blur-5 shadow-left",children:(0,i.jsxs)(u,{className:"container  p-md-5 flex-column",children:[(0,i.jsx)(x.Z,{className:"d-flex flex-row align-items-center justify-content-center gap-3 rounded mb-4 text-primary",children:(0,i.jsx)("h1",{style:{color:r},children:"CUPL-Ticketing System"})}),(0,i.jsx)(x.Z,{className:"p-4 container rounded ",children:(0,i.jsx)(f.Z,{className:"m-6",children:s})})]})})]})})})})})}},93647:(e,s,a)=>{a.d(s,{U:()=>r});var r=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"]},30018:(e,s,a)=>{a.d(s,{Z:()=>j});var r=a(81694),t=a.n(r),c=a(72791),n=a(80239),l=a(39007),o=a(10162),d=a(27472),i=a(80184);const m=(0,d.Z)("h4");m.displayName="DivStyledAsH4";const u=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c=m,...n}=e;return r=(0,o.vE)(r,"alert-heading"),(0,i.jsx)(c,{ref:s,className:t()(a,r),...n})}));u.displayName="AlertHeading";const x=u;var f=a(16445);const h=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c=f.Z,...n}=e;return r=(0,o.vE)(r,"alert-link"),(0,i.jsx)(c,{ref:s,className:t()(a,r),...n})}));h.displayName="AlertLink";const w=h;var p=a(72709),N=a(80473);const v=c.forwardRef(((e,s)=>{const{bsPrefix:a,show:r=!0,closeLabel:c="Close alert",closeVariant:d,className:m,children:u,variant:x="primary",onClose:f,dismissible:h,transition:w=p.Z,...v}=(0,n.Ch)(e,{show:"onClose"}),j=(0,o.vE)(a,"alert"),g=(0,l.Z)((e=>{f&&f(!1,e)})),b=!0===w?p.Z:w,y=(0,i.jsxs)("div",{role:"alert",...b?void 0:v,ref:s,className:t()(m,j,x&&"".concat(j,"-").concat(x),h&&"".concat(j,"-dismissible")),children:[h&&(0,i.jsx)(N.Z,{onClick:g,"aria-label":c,variant:d}),u]});return b?(0,i.jsx)(b,{unmountOnExit:!0,...v,ref:void 0,in:r,children:y}):r?y:null}));v.displayName="Alert";const j=Object.assign(v,{Link:w,Heading:x})},26514:(e,s,a)=>{a.d(s,{Z:()=>H});var r=a(81694),t=a.n(r),c=a(72791),n=a(10162),l=a(99033),o=a(80184);const d=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="div",...l}=e;return r=(0,n.vE)(r,"card-footer"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...l})}));d.displayName="CardFooter";const i=d,m=c.createContext(null);m.displayName="CardHeaderContext";const u=m,x=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,as:l="div",...d}=e;const i=(0,n.vE)(a,"card-header"),m=(0,c.useMemo)((()=>({cardHeaderBsPrefix:i})),[i]);return(0,o.jsx)(u.Provider,{value:m,children:(0,o.jsx)(l,{ref:s,...d,className:t()(r,i)})})}));x.displayName="CardHeader";const f=x,h=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,variant:c,as:l="img",...d}=e;const i=(0,n.vE)(a,"card-img");return(0,o.jsx)(l,{ref:s,className:t()(c?"".concat(i,"-").concat(c):i,r),...d})}));h.displayName="CardImg";const w=h,p=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="div",...l}=e;return r=(0,n.vE)(r,"card-img-overlay"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...l})}));p.displayName="CardImgOverlay";const N=p,v=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="a",...l}=e;return r=(0,n.vE)(r,"card-link"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...l})}));v.displayName="CardLink";const j=v;var g=a(27472);const b=(0,g.Z)("h6"),y=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c=b,...l}=e;return r=(0,n.vE)(r,"card-subtitle"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...l})}));y.displayName="CardSubtitle";const P=y,Z=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="p",...l}=e;return r=(0,n.vE)(r,"card-text"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...l})}));Z.displayName="CardText";const C=Z,k=(0,g.Z)("h5"),E=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c=k,...l}=e;return r=(0,n.vE)(r,"card-title"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...l})}));E.displayName="CardTitle";const R=E,_=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,bg:c,text:d,border:i,body:m=!1,children:u,as:x="div",...f}=e;const h=(0,n.vE)(a,"card");return(0,o.jsx)(x,{ref:s,...f,className:t()(r,h,c&&"bg-".concat(c),d&&"text-".concat(d),i&&"border-".concat(i)),children:m?(0,o.jsx)(l.Z,{children:u}):u})}));_.displayName="Card";const H=Object.assign(_,{Img:w,Title:R,Subtitle:P,Body:l.Z,Link:j,Text:C,Header:f,Footer:i,ImgOverlay:N})},99033:(e,s,a)=>{a.d(s,{Z:()=>d});var r=a(72791),t=a(81694),c=a.n(t),n=a(10162),l=a(80184);const o=r.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:t="div",...o}=e;return r=(0,n.vE)(r,"card-body"),(0,l.jsx)(t,{ref:s,className:c()(a,r),...o})}));o.displayName="CardBody";const d=o},47022:(e,s,a)=>{a.d(s,{Z:()=>d});var r=a(81694),t=a.n(r),c=a(72791),n=a(10162),l=a(80184);const o=c.forwardRef(((e,s)=>{let{bsPrefix:a,fluid:r=!1,as:c="div",className:o,...d}=e;const i=(0,n.vE)(a,"container"),m="string"===typeof r?"-".concat(r):"-fluid";return(0,l.jsx)(c,{ref:s,...d,className:t()(o,r?"".concat(i).concat(m):i)})}));o.displayName="Container";const d=o},42076:(e,s,a)=>{a.d(s,{Z:()=>x});var r=a(81694),t=a.n(r),c=a(72791),n=a(10162),l=a(96882),o=a(91991),d=a(80184);const i=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="span",...l}=e;return r=(0,n.vE)(r,"input-group-text"),(0,d.jsx)(c,{ref:s,className:t()(a,r),...l})}));i.displayName="InputGroupText";const m=i,u=c.forwardRef(((e,s)=>{let{bsPrefix:a,size:r,hasValidation:l,className:i,as:m="div",...u}=e;a=(0,n.vE)(a,"input-group");const x=(0,c.useMemo)((()=>({})),[]);return(0,d.jsx)(o.Z.Provider,{value:x,children:(0,d.jsx)(m,{ref:s,...u,className:t()(i,a,r&&"".concat(a,"-").concat(r),l&&"has-validation")})})}));u.displayName="InputGroup";const x=Object.assign(u,{Text:m,Radio:e=>(0,d.jsx)(m,{children:(0,d.jsx)(l.Z,{type:"radio",...e})}),Checkbox:e=>(0,d.jsx)(m,{children:(0,d.jsx)(l.Z,{type:"checkbox",...e})})})},91991:(e,s,a)=>{a.d(s,{Z:()=>t});const r=a(72791).createContext(null);r.displayName="InputGroupContext";const t=r},3327:()=>{}}]);
//# sourceMappingURL=7080.3e5e023e.chunk.js.map