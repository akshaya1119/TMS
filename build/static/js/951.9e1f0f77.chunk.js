(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[951],{24220:(e,t,a)=>{"use strict";a.d(t,{R:()=>o});var n=a(72791),r=a(89704),s=a.n(r);const c={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ARCHIEVED:"http://api1.chandrakala.co.in/api/Tickets/ArchivedByUser",REACT_APP_API_CHANGE_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ChangePassword",REACT_APP_API_DEPARTMENTS:"http://api1.chandrakala.co.in/api/Departments",REACT_APP_API_DESIGNATION:"http://api1.chandrakala.co.in/api/Designation",REACT_APP_API_Filter:"http://api1.chandrakala.co.in/api/Tickets/filter",REACT_APP_API_FORGOT_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ForgetPassword",REACT_APP_API_LOGIN:"http://api1.chandrakala.co.in/api/Login",REACT_APP_API_MODULE:"http://api1.chandrakala.co.in/api/Modules",REACT_APP_API_PERMISSION:"http://api1.chandrakala.co.in/api/Permission",REACT_APP_API_PROJECTTYPE:"http://api1.chandrakala.co.in/api/ProjectType",REACT_APP_API_SavedSearch:"http://api1.chandrakala.co.in/api/SearchSave",REACT_APP_API_TICKET:"http://api1.chandrakala.co.in/api/Tickets",REACT_APP_API_TICKETFLOW:"http://api1.chandrakala.co.in/api/TicketFlow",REACT_APP_API_TICKETFLOW_BY_COMMENTS:"http://api1.chandrakala.co.in/api/TicketFlow/CommentsByTicketId",REACT_APP_API_TICKETTYPE:"http://api1.chandrakala.co.in/api/TicketTypes",REACT_APP_API_TICKET_COMPLETED:"http://api1.chandrakala.co.in/api/Tickets/MarkCompleted",REACT_APP_API_UPLOAD:"http://api1.chandrakala.co.in/api/Users/upload",REACT_APP_API_USERS:"http://api1.chandrakala.co.in/api/Users",REACT_APP_API_USER_BY_ID:"http://api1.chandrakala.co.in/api/Users",REACT_APP_BASE_API_URL:"http://api1.chandrakala.co.in/api",REACT_APP_BASE_URL:"http://api1.chandrakala.co.in",REACT_APP_MY_SERVER:"http://ticket.chandrakala.co.in"}.REACT_APP_SECRET_KEY||"ghjsfysdg123",i=(0,n.createContext)({encrypt:e=>s().AES.encrypt(e.toString(),c).toString().replace(/\//g,";"),decrypt:e=>{if("string"!==typeof e)return e;e=e.replace(/;/g,"/");return s().AES.decrypt(e,c).toString(s().enc.Utf8)}}),o=()=>(0,n.useContext)(i)},26822:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var n=a(72791),r=a(89743),s=a(2677),c=a(29795),i=a(62591),o=a(8116),l=a(11087),d=a(9806),u=a(11632),h=a(24220),p=a(88516),f=a(80184);const P=e=>{let{users:t,hasPermission:a}=e;const{encrypt:P}=(0,h.R)(),[_,m]=(0,n.useState)(1),[A]=(0,n.useState)(10),[x,E]=(0,n.useState)(""),j=t.filter((e=>{const t=x.toLowerCase();return e.userId.toString().includes(x)||e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.mobileNo.includes(x)||e.departmentname.toLowerCase().includes(t)||e.roleName.toLowerCase().includes(t)})),T=Math.ceil(j.length/A),C=j.slice((_-1)*A,_*A),R=e=>{m(e)};return(0,f.jsxs)("div",{className:"table-responsive",children:[(0,f.jsxs)(r.Z,{children:[(0,f.jsx)(s.Z,{md:10}),(0,f.jsxs)(s.Z,{md:2,children:[" ",(0,f.jsx)(c.Z.Control,{type:"text",placeholder:"Search...",value:x,onChange:e=>{E(e.target.value),m(1)},className:"mb-3 text-start"})]})]}),(0,f.jsxs)(i.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"User ID"}),(0,f.jsx)("th",{children:"Profile"}),(0,f.jsx)("th",{children:"Name"}),(0,f.jsx)("th",{children:"Email"}),(0,f.jsx)("th",{children:"Mobile Number"}),(0,f.jsx)("th",{children:"Department"}),(0,f.jsx)("th",{children:"Designation"}),(0,f.jsx)("th",{children:"Actions"})]})}),(0,f.jsx)("tbody",{children:C.length>0?C.map((e=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:e.userId}),(0,f.jsx)("td",{children:(0,f.jsx)("img",{src:e.profilePicturePath?"".concat("http://api1.chandrakala.co.in","/").concat(e.profilePicturePath):"".concat(p),alt:"",width:30,height:30})}),(0,f.jsx)("td",{children:e.name}),(0,f.jsx)("td",{children:e.email}),(0,f.jsx)("td",{children:e.mobileNo}),(0,f.jsx)("td",{children:e.departmentname}),(0,f.jsx)("td",{children:e.designationname}),(0,f.jsx)("td",{className:"d-flex gap-3 text-primary",children:(0,f.jsxs)("div",{className:"d-flex gap-3 text-primary justify-content-center",children:[a(1,"canViewOnly")&&(0,f.jsx)(l.rU,{to:"/UserProfile/Profile/".concat(e.userId),children:(0,f.jsx)(d.G,{icon:u.Mdf,className:"text-success"})}),a(1,"canUpdateOnly")&&(0,f.jsx)(l.rU,{to:"/Users/EditUser/".concat(P(e.userId)),children:(0,f.jsx)(d.G,{icon:u.Yai,className:"text-primary"})})]})})]},e.userId))):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:"8",className:"text-center",children:"No users found"})})})]}),(0,f.jsx)(r.Z,{className:"justify-content-end",children:(0,f.jsx)(s.Z,{md:"auto",children:(0,f.jsxs)(o.Z,{children:[(0,f.jsx)(o.Z.Prev,{onClick:()=>_>1&&R(_-1),disabled:1===_}),[...Array(T)].map(((e,t)=>(0,f.jsx)(o.Z.Item,{active:t+1===_,onClick:()=>R(t+1),children:t+1},t))),(0,f.jsx)(o.Z.Next,{onClick:()=>_<T&&R(_+1),disabled:_===T})]})})})]})};var _=a(57689),m=a(47022),A=a(43360),x=a(36704),E=a(583);const j=()=>{const[e,t]=(0,n.useState)([]),{user:a}=(0,E.a)();let r=(0,_.s0)();const s=()=>{r("/Users/AddUser")};return(0,n.useEffect)((()=>{fetch("http://api1.chandrakala.co.in/api/Users",{headers:{Authorization:"Bearer ".concat(null===a||void 0===a?void 0:a.token)}}).then((e=>e.json())).then((e=>{const a=e.map((e=>({userId:e.userId,profilePicturePath:e.profilePicturePath,email:e.email,name:"".concat(e.firstName," ").concat(e.lastName),mobileNo:e.mobileNo,departmentname:e.departmentname,designationname:e.designationname})));t(a)})).catch((e=>{console.error("Error fetching user data:",e)}))}),[]),(0,f.jsx)(x.Z,{children:t=>{let{hasPermission:a}=t;return(0,f.jsxs)(m.Z,{className:"userform border border-3 p-4 my-3",children:[(0,f.jsxs)("div",{className:"d-flex justify-content-between m-3",children:[(0,f.jsx)("h3",{children:"Users"}),a(1,"canAddOnly")&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(A.Z,{type:"button",to:"AddUser/",className:"btn",onClick:s,children:"Add User"})})]}),(0,f.jsx)("hr",{}),(0,f.jsx)(P,{users:e,hasPermission:a})]})}})}},28633:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(72791);function r(){return(0,n.useState)(null)}},47904:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(72791);const r=function(e){const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e}),[e]),t}},39007:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(72791),r=a(47904);function s(e){const t=(0,r.Z)(e);return(0,n.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}},49815:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(72791);const r="undefined"!==typeof a.g&&a.g.navigator&&"ReactNative"===a.g.navigator.product,s="undefined"!==typeof document||r?n.useLayoutEffect:n.useEffect},55746:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(72791);function r(){const e=(0,n.useRef)(!0),t=(0,n.useRef)((()=>e.current));return(0,n.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}},52803:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(72791);function r(e){const t=(0,n.useRef)(null);return(0,n.useEffect)((()=>{t.current=e})),t.current}},31396:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(72791),r=(a(28633),a(47904),a(39007));a(55746),a(52803);a(49815);new WeakMap;var s=a(15341),c=a(80184);const i=["onKeyDown"];const o=n.forwardRef(((e,t)=>{let{onKeyDown:a}=e,n=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,i);const[o]=(0,s.FT)(Object.assign({tagName:"a"},n)),l=(0,r.Z)((e=>{o.onKeyDown(e),null==a||a(e)}));return(d=n.href)&&"#"!==d.trim()&&"button"!==n.role?(0,c.jsx)("a",Object.assign({ref:t},n,{onKeyDown:a})):(0,c.jsx)("a",Object.assign({ref:t},n,o,{onKeyDown:l}));var d}));o.displayName="Anchor";const l=o},15341:(e,t,a)=>{"use strict";a.d(t,{FT:()=>c,ZP:()=>o});var n=a(72791),r=a(80184);const s=["as","disabled"];function c(e){let{tagName:t,disabled:a,href:n,target:r,rel:s,role:c,onClick:i,tabIndex:o=0,type:l}=e;t||(t=null!=n||null!=r||null!=s?"a":"button");const d={tagName:t};if("button"===t)return[{type:l||"button",disabled:a},d];const u=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(n))&&e.preventDefault(),a?e.stopPropagation():null==i||i(e)};return"a"===t&&(n||(n="#"),a&&(n=void 0)),[{role:null!=c?c:"button",disabled:void 0,tabIndex:a?void 0:o,href:n,target:"a"===t?r:void 0,"aria-disabled":a||void 0,rel:"a"===t?s:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const i=n.forwardRef(((e,t)=>{let{as:a,disabled:n}=e,i=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,s);const[o,{tagName:l}]=c(Object.assign({tagName:a,disabled:n},i));return(0,r.jsx)(l,Object.assign({},i,o,{ref:t}))}));i.displayName="Button";const o=i},2677:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(81694),r=a.n(n),s=a(72791),c=a(10162),i=a(80184);const o=s.forwardRef(((e,t)=>{const[{className:a,...n},{as:s="div",bsPrefix:o,spans:l}]=function(e){let{as:t,bsPrefix:a,className:n,...s}=e;a=(0,c.vE)(a,"col");const i=(0,c.pi)(),o=(0,c.zG)(),l=[],d=[];return i.forEach((e=>{const t=s[e];let n,r,c;delete s[e],"object"===typeof t&&null!=t?({span:n,offset:r,order:c}=t):n=t;const i=e!==o?"-".concat(e):"";n&&l.push(!0===n?"".concat(a).concat(i):"".concat(a).concat(i,"-").concat(n)),null!=c&&d.push("order".concat(i,"-").concat(c)),null!=r&&d.push("offset".concat(i,"-").concat(r))})),[{...s,className:r()(n,...l,...d)},{as:t,bsPrefix:a,spans:l}]}(e);return(0,i.jsx)(s,{...n,ref:t,className:r()(a,!l.length&&o)})}));o.displayName="Col";const l=o},47022:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(81694),r=a.n(n),s=a(72791),c=a(10162),i=a(80184);const o=s.forwardRef(((e,t)=>{let{bsPrefix:a,fluid:n=!1,as:s="div",className:o,...l}=e;const d=(0,c.vE)(a,"container"),u="string"===typeof n?"-".concat(n):"-fluid";return(0,i.jsx)(s,{ref:t,...l,className:r()(o,n?"".concat(d).concat(u):d)})}));o.displayName="Container";const l=o},89743:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(81694),r=a.n(n),s=a(72791),c=a(10162),i=a(80184);const o=s.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,as:s="div",...o}=e;const l=(0,c.vE)(a,"row"),d=(0,c.pi)(),u=(0,c.zG)(),h="".concat(l,"-cols"),p=[];return d.forEach((e=>{const t=o[e];let a;delete o[e],null!=t&&"object"===typeof t?({cols:a}=t):a=t;const n=e!==u?"-".concat(e):"";null!=a&&p.push("".concat(h).concat(n,"-").concat(a))})),(0,i.jsx)(s,{ref:t,...o,className:r()(n,l,...p)})}));o.displayName="Row";const l=o},42480:()=>{}}]);
//# sourceMappingURL=951.9e1f0f77.chunk.js.map