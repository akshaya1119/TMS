(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2041],{36704:(e,a,t)=>{"use strict";t.d(a,{Z:()=>d});var n=t(72791),r=t(52007),s=t.n(r),c=t(583),i=t(55294);const o=e=>{let{children:a}=e;const{user:t}=(0,c.a)(),[r,s]=(0,n.useState)([]),[o,d]=(0,n.useState)(!0);(0,n.useEffect)((()=>{(async()=>{try{const e=t.userId,a=await i.Z.get("".concat("http://api1.chandrakala.co.in/api/Permission","/ByUser/").concat(e));s(a.data),d(!1),console.log(a.data)}catch(e){console.error("Error fetching permissions:",e),d(!1)}})()}),[t]);return"function"===typeof a?a({hasPermission:(e,a)=>{const t=r.find((a=>a.id===e));return t&&t[a]}}):null};o.propTypes={children:s().oneOfType([s().node,s().func]).isRequired};const d=o},24220:(e,a,t)=>{"use strict";t.d(a,{R:()=>o});var n=t(72791),r=t(89704),s=t.n(r);const c={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ARCHIEVED:"http://api1.chandrakala.co.in/api/Tickets/Archived",REACT_APP_API_CHANGE_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ChangePassword",REACT_APP_API_DEPARTMENTS:"http://api1.chandrakala.co.in/api/Departments",REACT_APP_API_FORGOT_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ForgetPassword",REACT_APP_API_LOGIN:"http://api1.chandrakala.co.in/api/Login",REACT_APP_API_MODULE:"http://api1.chandrakala.co.in/api/Module",REACT_APP_API_PERMISSION:"http://api1.chandrakala.co.in/api/Permission",REACT_APP_API_PROJECTTYPE:"http://api1.chandrakala.co.in/api/ProjectType",REACT_APP_API_ROLES:"http://api1.chandrakala.co.in/api/Roles",REACT_APP_API_TICKET:"http://api1.chandrakala.co.in/api/Tickets",REACT_APP_API_TICKETFLOW:"http://api1.chandrakala.co.in/api/TicketFlow",REACT_APP_API_TICKETFLOW_BY_COMMENTS:"http://api1.chandrakala.co.in/api/TicketFlow/CommentsByTicketId",REACT_APP_API_TICKETTYPE:"http://api1.chandrakala.co.in/api/TicketTypes",REACT_APP_API_TICKET_COMPLETED:"http://api1.chandrakala.co.in/api/Ticket/MarkCompleted",REACT_APP_API_UPLOAD:"http://api1.chandrakala.co.in/api/Users/upload",REACT_APP_API_USERS:"http://api1.chandrakala.co.in/api/Users",REACT_APP_API_USER_BY_ID:"http://api1.chandrakala.co.in/api/Users",REACT_APP_BASE_API_URL:"http://api1.chandrakala.co.in/api",REACT_APP_BASE_URL:"http://api1.chandrakala.co.in",REACT_APP_MY_SERVER:"http://ticket.chandrakala.co.in"}.REACT_APP_SECRET_KEY||"ghjsfysdg123",i=(0,n.createContext)({encrypt:e=>{console.log("Data to encrypt:",e);const a=s().AES.encrypt(e.toString(),c).toString();return console.log("Encrypted data:",a),a.replace(/\//g,";")},decrypt:e=>{if("string"!==typeof e)return e;e=e.replace(/;/g,"/");return s().AES.decrypt(e,c).toString(s().enc.Utf8)}}),o=()=>(0,n.useContext)(i)},26822:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var n=t(72791),r=t(62591),s=t(11087),c=t(88890),i=t.n(c),o=t(9806),d=t(11632),l=t(24220),p=t(80184);const h=e=>{let{users:a,hasPermission:t}=e;const{encrypt:c}=(0,l.R)(),h=(0,n.useRef)(null);return(0,n.useEffect)((()=>{i()(h.current).DataTable()}),[]),(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)(r.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"User ID"}),(0,p.jsx)("th",{children:"Name"}),(0,p.jsx)("th",{children:"Email"}),(0,p.jsx)("th",{children:"Mobile Number"}),(0,p.jsx)("th",{children:"Department"}),(0,p.jsx)("th",{children:"Designation"}),(0,p.jsx)("th",{children:"Actions"})]})}),(0,p.jsx)("tbody",{children:a.map((e=>(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:e.userId}),(0,p.jsx)("td",{children:e.name}),(0,p.jsx)("td",{children:e.email}),(0,p.jsx)("td",{children:e.mobileNo}),(0,p.jsx)("td",{children:e.departmentName}),(0,p.jsx)("th",{children:e.role}),(0,p.jsx)("td",{className:"d-flex gap-3 text-primary",children:(0,p.jsxs)("div",{className:"d-flex gap-3 text-primary justify-content-center",children:[t(1,"canViewOnly")&&(0,p.jsx)(s.rU,{to:"Views/".concat(e.userId),children:(0,p.jsx)(o.G,{icon:d.Mdf,className:"text-success"})}),t(1,"canUpdateOnly")&&(0,p.jsxs)(s.rU,{to:"/Users/EditUser/".concat(c(e.userId)),children:[(0,p.jsx)(o.G,{icon:d.Yai,className:"text-primary"})," "]}),t(1,"canDeleteOnly")&&(0,p.jsx)(o.G,{icon:d.$aW,className:"text-danger"})]})})]},e.userId)))})]})})};var _=t(57689),u=t(47022),P=t(43360),A=t(36704);const m=()=>{const[e,a]=(0,n.useState)([]);let t=(0,_.s0)();const r=()=>{t("/Users/AddUser")};return(0,n.useEffect)((()=>{fetch("http://api1.chandrakala.co.in/api/Users").then((e=>e.json())).then((e=>{const t=e.map((e=>({userId:e.userId,email:e.email,name:"".concat(e.firstName," ").concat(e.lastName),mobileNo:e.mobileNo,departmentName:e.departmentName,role:e.role})));a(t)})).catch((e=>{console.error("Error fetching user data:",e)}))}),[]),(0,p.jsx)(A.Z,{children:a=>{let{hasPermission:t}=a;return(0,p.jsxs)(u.Z,{className:"userform border border-3 p-4 my-3",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-between m-3",children:[(0,p.jsx)("h3",{children:"Users"}),t(1,"canAddOnly")&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(P.Z,{type:"button",to:"AddUser/",className:"btn",onClick:r,children:"Add User"})})]}),(0,p.jsx)("hr",{}),(0,p.jsx)(h,{users:e,hasPermission:t})]})}})}},15341:(e,a,t)=>{"use strict";t.d(a,{FT:()=>c,ZP:()=>o});var n=t(72791),r=t(80184);const s=["as","disabled"];function c(e){let{tagName:a,disabled:t,href:n,target:r,rel:s,role:c,onClick:i,tabIndex:o=0,type:d}=e;a||(a=null!=n||null!=r||null!=s?"a":"button");const l={tagName:a};if("button"===a)return[{type:d||"button",disabled:t},l];const p=e=>{(t||"a"===a&&function(e){return!e||"#"===e.trim()}(n))&&e.preventDefault(),t?e.stopPropagation():null==i||i(e)};return"a"===a&&(n||(n="#"),t&&(n=void 0)),[{role:null!=c?c:"button",disabled:void 0,tabIndex:t?void 0:o,href:n,target:"a"===a?r:void 0,"aria-disabled":t||void 0,rel:"a"===a?s:void 0,onClick:p,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),p(e))}},l]}const i=n.forwardRef(((e,a)=>{let{as:t,disabled:n}=e,i=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,s);const[o,{tagName:d}]=c(Object.assign({tagName:t,disabled:n},i));return(0,r.jsx)(d,Object.assign({},i,o,{ref:a}))}));i.displayName="Button";const o=i},43360:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var n=t(81694),r=t.n(n),s=t(72791),c=t(15341),i=t(10162),o=t(80184);const d=s.forwardRef(((e,a)=>{let{as:t,bsPrefix:n,variant:s="primary",size:d,active:l=!1,disabled:p=!1,className:h,..._}=e;const u=(0,i.vE)(n,"btn"),[P,{tagName:A}]=(0,c.FT)({tagName:t,disabled:p,..._}),m=A;return(0,o.jsx)(m,{...P,..._,ref:a,disabled:p,className:r()(h,u,l&&"active",s&&"".concat(u,"-").concat(s),d&&"".concat(u,"-").concat(d),_.href&&p&&"disabled")})}));d.displayName="Button";const l=d},47022:(e,a,t)=>{"use strict";t.d(a,{Z:()=>d});var n=t(81694),r=t.n(n),s=t(72791),c=t(10162),i=t(80184);const o=s.forwardRef(((e,a)=>{let{bsPrefix:t,fluid:n=!1,as:s="div",className:o,...d}=e;const l=(0,c.vE)(t,"container"),p="string"===typeof n?"-".concat(n):"-fluid";return(0,i.jsx)(s,{ref:a,...d,className:r()(o,n?"".concat(l).concat(p):l)})}));o.displayName="Container";const d=o},62591:(e,a,t)=>{"use strict";t.d(a,{Z:()=>o});var n=t(81694),r=t.n(n),s=t(72791),c=t(10162),i=t(80184);const o=s.forwardRef(((e,a)=>{let{bsPrefix:t,className:n,striped:s,bordered:o,borderless:d,hover:l,size:p,variant:h,responsive:_,...u}=e;const P=(0,c.vE)(t,"table"),A=r()(n,P,h&&"".concat(P,"-").concat(h),p&&"".concat(P,"-").concat(p),s&&"".concat(P,"-").concat("string"===typeof s?"striped-".concat(s):"striped"),o&&"".concat(P,"-bordered"),d&&"".concat(P,"-borderless"),l&&"".concat(P,"-hover")),m=(0,i.jsx)("table",{...u,className:A,ref:a});if(_){let e="".concat(P,"-responsive");return"string"===typeof _&&(e="".concat(e,"-").concat(_)),(0,i.jsx)("div",{className:e,children:m})}return m}))},42480:()=>{}}]);
//# sourceMappingURL=2041.b3699f5f.chunk.js.map