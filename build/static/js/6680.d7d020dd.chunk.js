"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6680],{33358:(e,s,n)=>{n.d(s,{Z:()=>y});var a=n(72791),r=n(11087),t=n(93647),o=n(47022),c=n(29795),l=n(30018),i=n(42076),d=n(89743),u=n(2677),m=n(43360),x=n(55294),p=n(24846),f=n(583),h=(n(3327),n(80184));const w="#FF725E",y=()=>{const{logout:e,user:s}=(0,f.a)(),[n,y]=(0,a.useState)({currentPassword:"",newPassword:""}),[v,N]=(0,a.useState)({}),[j,g]=(0,a.useState)({currentPassword:!1,newPassword:!1}),[C,E]=(0,a.useState)(!1),[P,b]=(0,a.useState)({success:"",error:""}),Z=async()=>{if((()=>{const{currentPassword:e,newPassword:s}=n,a={};return["currentPassword","newPassword"].forEach((e=>{n[e]||(a[e]="".concat(e.charAt(0).toUpperCase()+e.slice(1)," is required"))})),s.length<8&&(a.newPassword="New Password must be at least 8 characters long"),N(a),0===Object.keys(a).length})()){E(!0);try{const a=await x.Z.put("".concat("http://api1.chandrakala.co.in/api/Login/ChangePassword","/").concat(s.userId),{currentPassword:n.currentPassword,newPassword:n.newPassword});200===a.status?(b({success:"Your password has been changed. Please login again.",error:""}),setTimeout((()=>{e()}),3e3)):400===a.status?b({success:"",error:"Enter Correct Old Password!"}):b({success:"",error:"Password change failed. Please try again."})}catch(a){b({success:"",error:"Enter Correct Old Password!"})}finally{E(!1)}}};return(0,h.jsx)(o.Z,{children:(0,h.jsxs)(c.Z,{children:[(0,h.jsx)("h1",{children:"Password Reset"}),(0,h.jsx)("p",{children:"Change your password"}),P.success&&(0,h.jsx)(l.Z,{variant:"success",children:P.success}),P.error&&(0,h.jsx)(l.Z,{variant:"danger",children:P.error}),["currentPassword","newPassword"].map((e=>(0,h.jsx)("div",{className:"mb-4",children:(0,h.jsxs)(i.Z,{hasValidation:!0,children:[(0,h.jsx)(i.Z.Text,{children:(0,h.jsx)(p.Z,{icon:t.U})}),(0,h.jsx)(c.Z.Control,{type:j[e]?"text":"password",placeholder:"currentPassword"===e?"Current Password":"New Password",autoComplete:"currentPassword"===e?"old-password":"new-password",value:n[e],onChange:s=>((e,s)=>{if(y((n=>({...n,[e]:s}))),N((n=>({...n,[e]:s.trim()?"":"".concat(e.charAt(0).toUpperCase()+e.slice(1)," is required")}))),"newPassword"===e){const e=/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/;N((n=>({...n,newPassword:s.length<8?"New Password must be at least 8 characters long":e.test(s)?"":"Password must contain at least one letter, one number, and one special character"})))}"currentPassword"===e&&b({success:"",error:""})})(e,s.target.value),isInvalid:!!v[e]}),(0,h.jsx)(i.Z.Text,{onClick:()=>(e=>{g((s=>({...s,[e]:!s[e]})))})(e),className:"hovericon",children:j[e]?(0,h.jsx)("i",{className:"fa-solid fa-eye"}):(0,h.jsx)("i",{className:"fa-solid fa-eye-slash"})}),(0,h.jsx)(c.Z.Control.Feedback,{type:"invalid",children:v[e]})]})},e))),(0,h.jsxs)(d.Z,{children:[(0,h.jsx)(u.Z,{xs:6,className:"align-items-start",children:(0,h.jsx)(m.Z,{variant:"primary",className:"px-4 ",style:{backgroundColor:w},onClick:Z,disabled:C,children:C?"Changing Password...":"Change Password"})}),(0,h.jsx)(u.Z,{xs:6,className:"text-end fs-5",children:(0,h.jsx)(r.rU,{to:"/Login",color:"primary",className:"px-4",style:{color:w},onClick:Z,children:"Login"})})]})]})})}},26680:(e,s,n)=>{n.r(s),n.d(s,{default:()=>R});var a=n(72791),r=n(81694),t=n.n(r),o=n(80239),c=n(10162),l=n(17858);function i(e,s){return Array.isArray(e)?e.includes(s):e===s}const d=a.createContext({});d.displayName="AccordionContext";const u=d;var m=n(80184);const x=a.forwardRef(((e,s)=>{let{as:n="div",bsPrefix:r,className:o,children:d,eventKey:x,...p}=e;const{activeEventKey:f}=(0,a.useContext)(u);return r=(0,c.vE)(r,"accordion-collapse"),(0,m.jsx)(l.Z,{ref:s,in:i(f,x),...p,className:t()(o,r),children:(0,m.jsx)(n,{children:a.Children.only(d)})})}));x.displayName="AccordionCollapse";const p=x,f=a.createContext({eventKey:""});f.displayName="AccordionItemContext";const h=f,w=a.forwardRef(((e,s)=>{let{as:n="div",bsPrefix:r,className:o,onEnter:l,onEntering:i,onEntered:d,onExit:u,onExiting:x,onExited:f,...w}=e;r=(0,c.vE)(r,"accordion-body");const{eventKey:y}=(0,a.useContext)(h);return(0,m.jsx)(p,{eventKey:y,onEnter:l,onEntering:i,onEntered:d,onExit:u,onExiting:x,onExited:f,children:(0,m.jsx)(n,{ref:s,...w,className:t()(o,r)})})}));w.displayName="AccordionBody";const y=w;const v=a.forwardRef(((e,s)=>{let{as:n="button",bsPrefix:r,className:o,onClick:l,...d}=e;r=(0,c.vE)(r,"accordion-button");const{eventKey:x}=(0,a.useContext)(h),p=function(e,s){const{activeEventKey:n,onSelect:r,alwaysOpen:t}=(0,a.useContext)(u);return a=>{let o=e===n?null:e;t&&(o=Array.isArray(n)?n.includes(e)?n.filter((s=>s!==e)):[...n,e]:[e]),null==r||r(o,a),null==s||s(a)}}(x,l),{activeEventKey:f}=(0,a.useContext)(u);return"button"===n&&(d.type="button"),(0,m.jsx)(n,{ref:s,onClick:p,...d,"aria-expanded":Array.isArray(f)?f.includes(x):x===f,className:t()(o,r,!i(f,x)&&"collapsed")})}));v.displayName="AccordionButton";const N=v,j=a.forwardRef(((e,s)=>{let{as:n="h2",bsPrefix:a,className:r,children:o,onClick:l,...i}=e;return a=(0,c.vE)(a,"accordion-header"),(0,m.jsx)(n,{ref:s,...i,className:t()(r,a),children:(0,m.jsx)(N,{onClick:l,children:o})})}));j.displayName="AccordionHeader";const g=j,C=a.forwardRef(((e,s)=>{let{as:n="div",bsPrefix:r,className:o,eventKey:l,...i}=e;r=(0,c.vE)(r,"accordion-item");const d=(0,a.useMemo)((()=>({eventKey:l})),[l]);return(0,m.jsx)(h.Provider,{value:d,children:(0,m.jsx)(n,{ref:s,...i,className:t()(o,r)})})}));C.displayName="AccordionItem";const E=C,P=a.forwardRef(((e,s)=>{const{as:n="div",activeKey:r,bsPrefix:l,className:i,onSelect:d,flush:x,alwaysOpen:p,...f}=(0,o.Ch)(e,{activeKey:"onSelect"}),h=(0,c.vE)(l,"accordion"),w=(0,a.useMemo)((()=>({activeEventKey:r,onSelect:d,alwaysOpen:p})),[r,d,p]);return(0,m.jsx)(u.Provider,{value:w,children:(0,m.jsx)(n,{ref:s,...f,className:t()(i,h,x&&"".concat(h,"-flush"))})})}));P.displayName="Accordion";const b=Object.assign(P,{Button:N,Collapse:p,Item:E,Header:g,Body:y});var Z=n(9806),A=n(11632),k=n(33358);const R=function(){return(0,m.jsx)(b,{children:(0,m.jsxs)(b.Item,{eventKey:"0",children:[(0,m.jsxs)(b.Header,{children:[(0,m.jsx)(Z.G,{icon:A.byT,className:"me-2"})," Change Password"]}),(0,m.jsx)(b.Body,{children:(0,m.jsx)(k.Z,{})})]})})}},93647:(e,s,n)=>{n.d(s,{U:()=>a});var a=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"]},30018:(e,s,n)=>{n.d(s,{Z:()=>N});var a=n(81694),r=n.n(a),t=n(72791),o=n(80239),c=n(39007),l=n(10162),i=n(27472),d=n(80184);const u=(0,i.Z)("h4");u.displayName="DivStyledAsH4";const m=t.forwardRef(((e,s)=>{let{className:n,bsPrefix:a,as:t=u,...o}=e;return a=(0,l.vE)(a,"alert-heading"),(0,d.jsx)(t,{ref:s,className:r()(n,a),...o})}));m.displayName="AlertHeading";const x=m;var p=n(16445);const f=t.forwardRef(((e,s)=>{let{className:n,bsPrefix:a,as:t=p.Z,...o}=e;return a=(0,l.vE)(a,"alert-link"),(0,d.jsx)(t,{ref:s,className:r()(n,a),...o})}));f.displayName="AlertLink";const h=f;var w=n(72709),y=n(80473);const v=t.forwardRef(((e,s)=>{const{bsPrefix:n,show:a=!0,closeLabel:t="Close alert",closeVariant:i,className:u,children:m,variant:x="primary",onClose:p,dismissible:f,transition:h=w.Z,...v}=(0,o.Ch)(e,{show:"onClose"}),N=(0,l.vE)(n,"alert"),j=(0,c.Z)((e=>{p&&p(!1,e)})),g=!0===h?w.Z:h,C=(0,d.jsxs)("div",{role:"alert",...g?void 0:v,ref:s,className:r()(u,N,x&&"".concat(N,"-").concat(x),f&&"".concat(N,"-dismissible")),children:[f&&(0,d.jsx)(y.Z,{onClick:j,"aria-label":t,variant:i}),m]});return g?(0,d.jsx)(g,{unmountOnExit:!0,...v,ref:void 0,in:a,children:C}):a?C:null}));v.displayName="Alert";const N=Object.assign(v,{Link:h,Heading:x})},80473:(e,s,n)=>{n.d(s,{Z:()=>u});var a=n(52007),r=n.n(a),t=n(72791),o=n(81694),c=n.n(o),l=n(80184);const i={"aria-label":r().string,onClick:r().func,variant:r().oneOf(["white"])},d=t.forwardRef(((e,s)=>{let{className:n,variant:a,"aria-label":r="Close",...t}=e;return(0,l.jsx)("button",{ref:s,type:"button",className:c()("btn-close",a&&"btn-close-".concat(a),n),"aria-label":r,...t})}));d.displayName="CloseButton",d.propTypes=i;const u=d},17858:(e,s,n)=>{n.d(s,{Z:()=>h});var a=n(81694),r=n.n(a),t=n(75427),o=n(72791),c=n(65090),l=n(71380);const i=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return s.filter((e=>null!=e)).reduce(((e,s)=>{if("function"!==typeof s)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?s:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];e.apply(this,a),s.apply(this,a)}}),null)};var d=n(67202),u=n(85007),m=n(80184);const x={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function p(e,s){const n=s["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],a=x[e];return n+parseInt((0,t.Z)(s,a[0]),10)+parseInt((0,t.Z)(s,a[1]),10)}const f={[c.Wj]:"collapse",[c.Ix]:"collapsing",[c.d0]:"collapsing",[c.cn]:"collapse show"},h=o.forwardRef(((e,s)=>{let{onEnter:n,onEntering:a,onEntered:t,onExit:c,onExiting:x,className:h,children:w,dimension:y="height",in:v=!1,timeout:N=300,mountOnEnter:j=!1,unmountOnExit:g=!1,appear:C=!1,getDimensionValue:E=p,...P}=e;const b="function"===typeof y?y():y,Z=(0,o.useMemo)((()=>i((e=>{e.style[b]="0"}),n)),[b,n]),A=(0,o.useMemo)((()=>i((e=>{const s="scroll".concat(b[0].toUpperCase()).concat(b.slice(1));e.style[b]="".concat(e[s],"px")}),a)),[b,a]),k=(0,o.useMemo)((()=>i((e=>{e.style[b]=null}),t)),[b,t]),R=(0,o.useMemo)((()=>i((e=>{e.style[b]="".concat(E(b,e),"px"),(0,d.Z)(e)}),c)),[c,E,b]),O=(0,o.useMemo)((()=>i((e=>{e.style[b]=null}),x)),[b,x]);return(0,m.jsx)(u.Z,{ref:s,addEndListener:l.Z,...P,"aria-expanded":P.role?v:null,onEnter:Z,onEntering:A,onEntered:k,onExit:R,onExiting:O,childRef:w.ref,in:v,timeout:N,mountOnEnter:j,unmountOnExit:g,appear:C,children:(e,s)=>o.cloneElement(w,{...s,className:r()(h,w.props.className,f[e],"width"===b&&"collapse-horizontal")})})}))},47022:(e,s,n)=>{n.d(s,{Z:()=>i});var a=n(81694),r=n.n(a),t=n(72791),o=n(10162),c=n(80184);const l=t.forwardRef(((e,s)=>{let{bsPrefix:n,fluid:a=!1,as:t="div",className:l,...i}=e;const d=(0,o.vE)(n,"container"),u="string"===typeof a?"-".concat(a):"-fluid";return(0,c.jsx)(t,{ref:s,...i,className:r()(l,a?"".concat(d).concat(u):d)})}));l.displayName="Container";const i=l},42076:(e,s,n)=>{n.d(s,{Z:()=>x});var a=n(81694),r=n.n(a),t=n(72791),o=n(10162),c=n(96882),l=n(91991),i=n(80184);const d=t.forwardRef(((e,s)=>{let{className:n,bsPrefix:a,as:t="span",...c}=e;return a=(0,o.vE)(a,"input-group-text"),(0,i.jsx)(t,{ref:s,className:r()(n,a),...c})}));d.displayName="InputGroupText";const u=d,m=t.forwardRef(((e,s)=>{let{bsPrefix:n,size:a,hasValidation:c,className:d,as:u="div",...m}=e;n=(0,o.vE)(n,"input-group");const x=(0,t.useMemo)((()=>({})),[]);return(0,i.jsx)(l.Z.Provider,{value:x,children:(0,i.jsx)(u,{ref:s,...m,className:r()(d,n,a&&"".concat(n,"-").concat(a),c&&"has-validation")})})}));m.displayName="InputGroup";const x=Object.assign(m,{Text:u,Radio:e=>(0,i.jsx)(u,{children:(0,i.jsx)(c.Z,{type:"radio",...e})}),Checkbox:e=>(0,i.jsx)(u,{children:(0,i.jsx)(c.Z,{type:"checkbox",...e})})})},91991:(e,s,n)=>{n.d(s,{Z:()=>r});const a=n(72791).createContext(null);a.displayName="InputGroupContext";const r=a},27472:(e,s,n)=>{n.d(s,{Z:()=>c});var a=n(72791),r=n(81694),t=n.n(r),o=n(80184);const c=e=>a.forwardRef(((s,n)=>(0,o.jsx)("div",{...s,ref:n,className:t()(s.className,e)})))},3327:()=>{}}]);
//# sourceMappingURL=6680.d7d020dd.chunk.js.map