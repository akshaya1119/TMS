(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8536],{24220:(a,e,t)=>{"use strict";t.d(e,{R:()=>n});var i=t(72791),l=t(89704),c=t.n(l);const s={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ARCHIEVED:"http://api1.chandrakala.co.in/api/Tickets/ArchivedByUser",REACT_APP_API_CHANGE_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ChangePassword",REACT_APP_API_DEPARTMENTS:"http://api1.chandrakala.co.in/api/Departments",REACT_APP_API_DESIGNATION:"http://api1.chandrakala.co.in/api/Designation",REACT_APP_API_FORGOT_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ForgetPassword",REACT_APP_API_LOGIN:"http://api1.chandrakala.co.in/api/Login",REACT_APP_API_MODULE:"http://api1.chandrakala.co.in/api/Modules",REACT_APP_API_PERMISSION:"http://api1.chandrakala.co.in/api/Permission",REACT_APP_API_PROJECTTYPE:"http://api1.chandrakala.co.in/api/ProjectType",REACT_APP_API_TICKET:"http://api1.chandrakala.co.in/api/Tickets",REACT_APP_API_TICKETFLOW:"http://api1.chandrakala.co.in/api/TicketFlow",REACT_APP_API_TICKETFLOW_BY_COMMENTS:"http://api1.chandrakala.co.in/api/TicketFlow/CommentsByTicketId",REACT_APP_API_TICKETTYPE:"http://api1.chandrakala.co.in/api/TicketTypes",REACT_APP_API_TICKET_COMPLETED:"http://api1.chandrakala.co.in/api/Tickets/MarkCompleted",REACT_APP_API_UPLOAD:"http://api1.chandrakala.co.in/api/Users/upload",REACT_APP_API_USERS:"http://api1.chandrakala.co.in/api/Users",REACT_APP_API_USER_BY_ID:"http://api1.chandrakala.co.in/api/Users",REACT_APP_BASE_API_URL:"http://api1.chandrakala.co.in/api",REACT_APP_BASE_URL:"http://api1.chandrakala.co.in",REACT_APP_MY_SERVER:"http://test1.chandrakala.co.in"}.REACT_APP_SECRET_KEY||"ghjsfysdg123",r=(0,i.createContext)({encrypt:a=>{console.log("Data to encrypt:",a);const e=c().AES.encrypt(a.toString(),s).toString();return console.log("Encrypted data:",e),e.replace(/\//g,";")},decrypt:a=>{if("string"!==typeof a)return a;a=a.replace(/;/g,"/");return c().AES.decrypt(a,s).toString(c().enc.Utf8)}}),n=()=>(0,i.useContext)(r)},64704:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>d});var i=t(72791),l=t(55294),c=t(57689),s=t(24220),r=t(80184);const n="http://api1.chandrakala.co.in/api/Users",o={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ARCHIEVED:"http://api1.chandrakala.co.in/api/Tickets/ArchivedByUser",REACT_APP_API_CHANGE_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ChangePassword",REACT_APP_API_DEPARTMENTS:"http://api1.chandrakala.co.in/api/Departments",REACT_APP_API_DESIGNATION:"http://api1.chandrakala.co.in/api/Designation",REACT_APP_API_FORGOT_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ForgetPassword",REACT_APP_API_LOGIN:"http://api1.chandrakala.co.in/api/Login",REACT_APP_API_MODULE:"http://api1.chandrakala.co.in/api/Modules",REACT_APP_API_PERMISSION:"http://api1.chandrakala.co.in/api/Permission",REACT_APP_API_PROJECTTYPE:"http://api1.chandrakala.co.in/api/ProjectType",REACT_APP_API_TICKET:"http://api1.chandrakala.co.in/api/Tickets",REACT_APP_API_TICKETFLOW:"http://api1.chandrakala.co.in/api/TicketFlow",REACT_APP_API_TICKETFLOW_BY_COMMENTS:"http://api1.chandrakala.co.in/api/TicketFlow/CommentsByTicketId",REACT_APP_API_TICKETTYPE:"http://api1.chandrakala.co.in/api/TicketTypes",REACT_APP_API_TICKET_COMPLETED:"http://api1.chandrakala.co.in/api/Tickets/MarkCompleted",REACT_APP_API_UPLOAD:"http://api1.chandrakala.co.in/api/Users/upload",REACT_APP_API_USERS:"http://api1.chandrakala.co.in/api/Users",REACT_APP_API_USER_BY_ID:"http://api1.chandrakala.co.in/api/Users",REACT_APP_BASE_API_URL:"http://api1.chandrakala.co.in/api",REACT_APP_BASE_URL:"http://api1.chandrakala.co.in",REACT_APP_MY_SERVER:"http://test1.chandrakala.co.in"}.REACT_APP_API_ROLES,d=()=>{const[a,e]=(0,i.useState)(null),{userId:t}=(0,c.UO)(),{decrypt:d}=(0,s.R)(),p=d(t),[_,h]=(0,i.useState)([]),[P,m]=(0,i.useState)([]),[A,E]=(0,i.useState)({firstName:"",lastName:"",email:"",password:"",mobileNo:"",departmentId:"",roleId:"",address:"",dateOfBirth:""});(0,i.useEffect)((()=>{l.Z.get("".concat(n,"/").concat(p)).then((a=>{E(a.data),console.log(a.data)})).catch((a=>{console.log(a),e("Error updating user. Please try again.")}))}),[p]),(0,i.useEffect)((()=>{!async function(){try{const a=await l.Z.get("http://api1.chandrakala.co.in/api/Departments");h(a.data)}catch(a){console.error("Error fetching departments:",a)}}()}),[]),(0,i.useEffect)((()=>{!async function(){try{const a=await l.Z.get(o);m(a.data)}catch(a){console.error("Error fetching Roles:",a)}}()}),[]);const T=a=>{const{name:e,value:t,type:i}=a.target;E((l=>({...l,[e]:"file"===i?a.target.files:t})))};return(0,r.jsxs)("div",{className:"container mt-5",children:[(0,r.jsxs)("h4",{className:"mb-3",children:["Edit the Details of ",A.firstName]}),a&&(0,r.jsx)("div",{className:"alert ".concat(a.includes("successfully")?"alert-success":"alert-danger"),role:"alert",children:a}),(0,r.jsxs)("form",{onSubmit:function(a){a.preventDefault(),l.Z.put("".concat(n,"/").concat(p),A).then((a=>{console.log(a),e("User updated successfully!")})).catch((a=>{console.log(a),e("Error updating user. Please try again.")}))},children:[(0,r.jsxs)("div",{className:"row mb-3",children:[(0,r.jsx)("label",{htmlFor:"firstName",className:"col-sm-1 col-form-label text-start",children:"FirstName:"}),(0,r.jsx)("div",{className:"col-sm-3",children:(0,r.jsx)("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",placeholder:"Enter FirstName",required:!0,onChange:T,value:A.firstName,disabled:!0})}),(0,r.jsx)("label",{htmlFor:"lastName",className:"col-sm-1 col-form-label text-end",children:"LastName:"}),(0,r.jsx)("div",{className:"col-sm-3",children:(0,r.jsx)("input",{type:"text",className:"form-control",id:"lastName",name:"lastName",placeholder:"Enter lastName",required:!0,onChange:T,value:A.lastName,disabled:!0})}),(0,r.jsx)("label",{htmlFor:"dateOfBirth",className:"col-sm-1 col-form-label text-end",children:"DOB:"}),(0,r.jsx)("div",{className:"col-sm-3",children:(0,r.jsx)("input",{type:"date",className:"form-control",id:"dateOfBirth",name:"dateOfBirth",placeholder:"Enter Date Of Birth",required:!0,onChange:T,value:A.dateOfBirth,disabled:!0})})]}),(0,r.jsxs)("div",{className:"row mb-3",children:[(0,r.jsx)("label",{htmlFor:"address",className:"col-sm-1 col-form-label text-end",children:"Address:"}),(0,r.jsx)("div",{className:"col-sm-3",children:(0,r.jsx)("input",{type:"address",className:"form-control",id:"address",name:"address",placeholder:"Enter Address",required:!0,onChange:T,value:A.address})}),(0,r.jsx)("label",{htmlFor:"mobileNo",className:"col-sm-1 col-form-label text-start",children:"MobileNo:"}),(0,r.jsx)("div",{className:"col-sm-3",children:(0,r.jsx)("input",{type:"text",className:"form-control",id:"mobileNo",name:"mobileNo",placeholder:"Enter Mobile No.",required:!0,onChange:T,value:A.mobileNo})}),(0,r.jsx)("label",{htmlFor:"email",className:"col-sm-1 col-form-label text-end",children:"Email:"}),(0,r.jsx)("div",{className:"col-sm-3",children:(0,r.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",placeholder:"Enter email",required:!0,onChange:T,value:A.email,disabled:!0})})]}),(0,r.jsx)("div",{className:"row mb-3",children:(0,r.jsxs)("div",{className:"row mb-3",children:[(0,r.jsx)("label",{htmlFor:"departmentId",className:"col-sm-1 col-form-label text-start",children:"Department:"}),(0,r.jsx)("div",{className:"col-sm-3",children:(0,r.jsxs)("select",{className:"form-select",id:"departmentId",name:"departmentId",required:!0,onChange:T,value:A.departmentId,children:[(0,r.jsx)("option",{value:"",children:"Select department"}),_.map((a=>(0,r.jsx)("option",{value:a.departmentId,children:a.departmentName},a.departmentId)))]})}),(0,r.jsx)("label",{htmlFor:"roleId",className:"col-sm-1 col-form-label text-start",children:"Designation:"}),(0,r.jsx)("div",{className:"col-sm-3",children:(0,r.jsxs)("select",{className:"form-select",id:"roleId",name:"roleId",required:!0,onChange:T,value:A.roleId,children:[(0,r.jsx)("option",{value:"",children:"Select Role"}),P.map((a=>(0,r.jsx)("option",{value:a.roleId,children:a.role},a.roleId)))]})})]})}),(0,r.jsxs)("div",{className:"row mb-3",children:[(0,r.jsx)("div",{className:"col-sm-3"}),(0,r.jsx)("div",{className:"col-sm-9 text-end",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update User"})})]})]})]})}},42480:()=>{}}]);
//# sourceMappingURL=8536.627007ec.chunk.js.map