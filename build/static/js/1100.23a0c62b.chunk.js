(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1100],{24220:(e,a,t)=>{"use strict";t.d(a,{R:()=>o});var s=t(72791),c=t(89704),n=t.n(c);const r={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ARCHIEVED:"http://api1.chandrakala.co.in/api/Tickets/ArchivedByUser",REACT_APP_API_CHANGE_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ChangePassword",REACT_APP_API_DEPARTMENTS:"http://api1.chandrakala.co.in/api/Departments",REACT_APP_API_DESIGNATION:"http://api1.chandrakala.co.in/api/Designation",REACT_APP_API_FORGOT_PASSWORD:"http://api1.chandrakala.co.in/api/Login/ForgetPassword",REACT_APP_API_LOGIN:"http://api1.chandrakala.co.in/api/Login",REACT_APP_API_MODULE:"http://api1.chandrakala.co.in/api/Modules",REACT_APP_API_PERMISSION:"http://api1.chandrakala.co.in/api/Permission",REACT_APP_API_PROJECTTYPE:"http://api1.chandrakala.co.in/api/ProjectType",REACT_APP_API_TICKET:"http://api1.chandrakala.co.in/api/Tickets",REACT_APP_API_TICKETFLOW:"http://api1.chandrakala.co.in/api/TicketFlow",REACT_APP_API_TICKETFLOW_BY_COMMENTS:"http://api1.chandrakala.co.in/api/TicketFlow/CommentsByTicketId",REACT_APP_API_TICKETTYPE:"http://api1.chandrakala.co.in/api/TicketTypes",REACT_APP_API_TICKET_COMPLETED:"http://api1.chandrakala.co.in/api/Tickets/MarkCompleted",REACT_APP_API_UPLOAD:"http://api1.chandrakala.co.in/api/Users/upload",REACT_APP_API_USERS:"http://api1.chandrakala.co.in/api/Users",REACT_APP_API_USER_BY_ID:"http://api1.chandrakala.co.in/api/Users",REACT_APP_BASE_API_URL:"http://api1.chandrakala.co.in/api",REACT_APP_BASE_URL:"http://api1.chandrakala.co.in",REACT_APP_MY_SERVER:"http://test1.chandrakala.co.in"}.REACT_APP_SECRET_KEY||"ghjsfysdg123",i=(0,s.createContext)({encrypt:e=>{console.log("Data to encrypt:",e);const a=n().AES.encrypt(e.toString(),r).toString();return console.log("Encrypted data:",a),a.replace(/\//g,";")},decrypt:e=>{if("string"!==typeof e)return e;e=e.replace(/;/g,"/");return n().AES.decrypt(e,r).toString(n().enc.Utf8)}}),o=()=>(0,s.useContext)(i)},50017:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>A});var s=t(72791),c=t(583),n=t(88890),r=t.n(n),i=t(57689),o=t(47022),l=t(30018),d=t(89743),h=t(2677),p=t(62591),u=(t(77632),t(55294)),f=t(24220),_=t(80184);const P="http://api1.chandrakala.co.in",E=()=>{const{decrypt:e}=(0,f.R)(),[a,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,E]=(0,s.useState)(!1),[m,A]=(0,s.useState)(""),[x,v]=(0,s.useState)(""),{user:C}=(0,c.a)();(0,s.useEffect)((()=>{(async()=>{try{const e=await u.Z.get("".concat(P,"/api/Permission/ByUser/").concat(null===C||void 0===C?void 0:C.userId));t(e.data)}catch(e){console.error("Error fetching permissions:",e),v("Error fetching permissions. Please try again.")}})(),(async()=>{try{const e=await u.Z.get("".concat(P,"/api/Module"));r(e.data)}catch(e){console.error("Error fetching modules:",e),v("Error fetching modules. Please try again.")}})()}),[C.userId]);const T=e=>{const a=n.find((a=>a.id===e));return a?a.name:"Unknown"};return(0,_.jsxs)(o.Z,{children:[m&&!i&&(0,_.jsx)(l.Z,{variant:"success",className:"mt-3",children:m}),x&&!i&&(0,_.jsx)(l.Z,{variant:"danger",className:"mt-3",children:x}),(0,_.jsx)(d.Z,{className:"justify-content-center",children:(0,_.jsx)(h.Z,{md:12,children:(0,_.jsxs)(p.Z,{bordered:!0,children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{children:"Module Name"}),(0,_.jsx)("th",{children:"Can View"}),(0,_.jsx)("th",{children:"Can Add"}),(0,_.jsx)("th",{children:"Can Update"}),(0,_.jsx)("th",{children:"Can Delete"})]})}),(0,_.jsx)("tbody",{children:a.map((e=>(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:T(e.id)}),(0,_.jsx)("td",{children:e.canViewOnly?"Yes":"No"}),(0,_.jsx)("td",{children:e.canAddOnly?"Yes":"No"}),(0,_.jsx)("td",{children:e.canUpdateOnly?"Yes":"No"}),(0,_.jsx)("td",{children:e.canDeleteOnly?"Yes":"No"})]},e.permission_Id)))})]})})})]})},m="http://api1.chandrakala.co.in/api/Tickets",A=()=>{const{userId:e}=(0,i.UO)(),a=((0,s.useRef)(null),(0,s.useRef)(null)),t=(0,s.useRef)(null),[n,o]=(0,s.useState)({}),{user:l}=(0,c.a)(),d=e||l.userId,[h,p]=(0,s.useState)(null),[u,f]=(0,s.useState)(null);(0,s.useEffect)((()=>{d&&fetch("".concat("http://api1.chandrakala.co.in/api/Users","/").concat(d)).then((e=>e.json())).then((e=>{console.log("Fetched user details:",e),o(e)})).catch((e=>{console.error("Error fetching user details:",e)}))}),[d]),(0,s.useEffect)((()=>{null!==n&&void 0!==n&&n.email&&(A(),x())}),[null===n||void 0===n?void 0:n.email]),(0,s.useEffect)((()=>{null!==h&&P(a,h)}),[h]),(0,s.useEffect)((()=>{null!==u&&P(t,u)}),[u]);const P=(e,a)=>{let t=0;const s=a/50,c=setInterval((()=>{t+=s,t>=a&&(t=a,clearInterval(c)),r()(e.current).find(".counter-value").text(Math.ceil(t))}),40)},A=async()=>{try{const e=await fetch("".concat(m,"/status-count?email=").concat(n.email));if(!e.ok)throw new Error("Error fetching assigned tickets count: ".concat(e.status));const a=await e.json(),t=(null===a||void 0===a?void 0:a.openCount)+a.pendingCount+a.selfassignedCount+a.completedCount;p(t),console.log("Assigned Tickets Count:",t)}catch(e){console.error("Error fetching assigned tickets count:",e)}},x=async()=>{try{const e=await fetch("".concat(m,"/status-count?email=").concat(n.email));if(!e.ok)throw new Error("Error fetching resolved tickets count: ".concat(e.status));const a=(await e.json()).completedCount;f(a),console.log("Resolved Tickets Count:",a)}catch(e){console.error("Error fetching resolved tickets count:",e)}};return(0,_.jsxs)("div",{className:"container",children:[(0,_.jsxs)("div",{className:"row",children:[(0,_.jsx)("div",{className:"col",children:(0,_.jsx)("div",{className:"card",children:(0,_.jsxs)("div",{className:"card-details mt-2",children:[(0,_.jsx)("p",{className:"text-title text-center",children:"Tickets Assigned"}),(0,_.jsx)("div",{ref:a,children:(0,_.jsx)("p",{className:"text-body text-center",children:h})})]})})}),(0,_.jsx)("div",{className:"col",children:(0,_.jsx)("div",{className:"card",children:(0,_.jsxs)("div",{className:"card-details mt-2",children:[(0,_.jsx)("p",{className:"text-title text-center",children:"Tickets Resolved"}),(0,_.jsx)("p",{className:"text-body text-center",children:u})]})})})]}),(0,_.jsx)("div",{className:"row mt-4",children:(0,_.jsxs)("div",{className:"",children:[(0,_.jsx)("h3",{children:"Permissions: "}),(0,_.jsx)(E,{userid:d})]})})]})}},30018:(e,a,t)=>{"use strict";t.d(a,{Z:()=>x});var s=t(81694),c=t.n(s),n=t(72791),r=t(80239),i=t(39007),o=t(10162),l=t(27472),d=t(80184);const h=(0,l.Z)("h4");h.displayName="DivStyledAsH4";const p=n.forwardRef(((e,a)=>{let{className:t,bsPrefix:s,as:n=h,...r}=e;return s=(0,o.vE)(s,"alert-heading"),(0,d.jsx)(n,{ref:a,className:c()(t,s),...r})}));p.displayName="AlertHeading";const u=p;var f=t(16445);const _=n.forwardRef(((e,a)=>{let{className:t,bsPrefix:s,as:n=f.Z,...r}=e;return s=(0,o.vE)(s,"alert-link"),(0,d.jsx)(n,{ref:a,className:c()(t,s),...r})}));_.displayName="AlertLink";const P=_;var E=t(72709),m=t(80473);const A=n.forwardRef(((e,a)=>{const{bsPrefix:t,show:s=!0,closeLabel:n="Close alert",closeVariant:l,className:h,children:p,variant:u="primary",onClose:f,dismissible:_,transition:P=E.Z,...A}=(0,r.Ch)(e,{show:"onClose"}),x=(0,o.vE)(t,"alert"),v=(0,i.Z)((e=>{f&&f(!1,e)})),C=!0===P?E.Z:P,T=(0,d.jsxs)("div",{role:"alert",...C?void 0:A,ref:a,className:c()(h,x,u&&"".concat(x,"-").concat(u),_&&"".concat(x,"-dismissible")),children:[_&&(0,d.jsx)(m.Z,{onClick:v,"aria-label":n,variant:l}),p]});return C?(0,d.jsx)(C,{unmountOnExit:!0,...A,ref:void 0,in:s,children:T}):s?T:null}));A.displayName="Alert";const x=Object.assign(A,{Link:P,Heading:u})},80473:(e,a,t)=>{"use strict";t.d(a,{Z:()=>h});var s=t(52007),c=t.n(s),n=t(72791),r=t(81694),i=t.n(r),o=t(80184);const l={"aria-label":c().string,onClick:c().func,variant:c().oneOf(["white"])},d=n.forwardRef(((e,a)=>{let{className:t,variant:s,"aria-label":c="Close",...n}=e;return(0,o.jsx)("button",{ref:a,type:"button",className:i()("btn-close",s&&"btn-close-".concat(s),t),"aria-label":c,...n})}));d.displayName="CloseButton",d.propTypes=l;const h=d},2677:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(81694),c=t.n(s),n=t(72791),r=t(10162),i=t(80184);const o=n.forwardRef(((e,a)=>{const[{className:t,...s},{as:n="div",bsPrefix:o,spans:l}]=function(e){let{as:a,bsPrefix:t,className:s,...n}=e;t=(0,r.vE)(t,"col");const i=(0,r.pi)(),o=(0,r.zG)(),l=[],d=[];return i.forEach((e=>{const a=n[e];let s,c,r;delete n[e],"object"===typeof a&&null!=a?({span:s,offset:c,order:r}=a):s=a;const i=e!==o?"-".concat(e):"";s&&l.push(!0===s?"".concat(t).concat(i):"".concat(t).concat(i,"-").concat(s)),null!=r&&d.push("order".concat(i,"-").concat(r)),null!=c&&d.push("offset".concat(i,"-").concat(c))})),[{...n,className:c()(s,...l,...d)},{as:a,bsPrefix:t,spans:l}]}(e);return(0,i.jsx)(n,{...s,ref:a,className:c()(t,!l.length&&o)})}));o.displayName="Col";const l=o},47022:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(81694),c=t.n(s),n=t(72791),r=t(10162),i=t(80184);const o=n.forwardRef(((e,a)=>{let{bsPrefix:t,fluid:s=!1,as:n="div",className:o,...l}=e;const d=(0,r.vE)(t,"container"),h="string"===typeof s?"-".concat(s):"-fluid";return(0,i.jsx)(n,{ref:a,...l,className:c()(o,s?"".concat(d).concat(h):d)})}));o.displayName="Container";const l=o},89743:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var s=t(81694),c=t.n(s),n=t(72791),r=t(10162),i=t(80184);const o=n.forwardRef(((e,a)=>{let{bsPrefix:t,className:s,as:n="div",...o}=e;const l=(0,r.vE)(t,"row"),d=(0,r.pi)(),h=(0,r.zG)(),p="".concat(l,"-cols"),u=[];return d.forEach((e=>{const a=o[e];let t;delete o[e],null!=a&&"object"===typeof a?({cols:t}=a):t=a;const s=e!==h?"-".concat(e):"";null!=t&&u.push("".concat(p).concat(s,"-").concat(t))})),(0,i.jsx)(n,{ref:a,...o,className:c()(s,l,...u)})}));o.displayName="Row";const l=o},62591:(e,a,t)=>{"use strict";t.d(a,{Z:()=>o});var s=t(81694),c=t.n(s),n=t(72791),r=t(10162),i=t(80184);const o=n.forwardRef(((e,a)=>{let{bsPrefix:t,className:s,striped:n,bordered:o,borderless:l,hover:d,size:h,variant:p,responsive:u,...f}=e;const _=(0,r.vE)(t,"table"),P=c()(s,_,p&&"".concat(_,"-").concat(p),h&&"".concat(_,"-").concat(h),n&&"".concat(_,"-").concat("string"===typeof n?"striped-".concat(n):"striped"),o&&"".concat(_,"-bordered"),l&&"".concat(_,"-borderless"),d&&"".concat(_,"-hover")),E=(0,i.jsx)("table",{...f,className:P,ref:a});if(u){let e="".concat(_,"-responsive");return"string"===typeof u&&(e="".concat(e,"-").concat(u)),(0,i.jsx)("div",{className:e,children:E})}return E}))},27472:(e,a,t)=>{"use strict";t.d(a,{Z:()=>i});var s=t(72791),c=t(81694),n=t.n(c),r=t(80184);const i=e=>s.forwardRef(((a,t)=>(0,r.jsx)("div",{...a,ref:t,className:n()(a.className,e)})))},77632:()=>{},42480:()=>{}}]);
//# sourceMappingURL=1100.23a0c62b.chunk.js.map