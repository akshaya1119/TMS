"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[540],{97080:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});a(72791);var r=a(32445),t=a(33358),c=a(80184);const n=()=>(0,c.jsxs)(r.Z,{bgimg:"bgimgchangepass",theme:"#FF725E",children:[(0,c.jsx)("div",{children:"ChangePassword"}),(0,c.jsx)(t.Z,{})]})},33358:(e,s,a)=>{a.d(s,{Z:()=>w});var r=a(72791),t=a(93647),c=a(47022),n=a(29795),d=a(30018),o=a(27098),l=a(89743),i=a(2677),m=a(43360),u=a(55294),x=a(24846),f=a(583),h=(a(3327),a(80184));const w=()=>{const{logout:e,user:s}=(0,f.a)(),[a,w]=(0,r.useState)({currentPassword:"",newPassword:""}),[v,N]=(0,r.useState)({}),[g,p]=(0,r.useState)({currentPassword:!1,newPassword:!1}),[b,P]=(0,r.useState)(!1),[j,y]=(0,r.useState)({success:"",error:""}),Z=async()=>{if((()=>{const{currentPassword:e,newPassword:s}=a,r={};return["currentPassword","newPassword"].forEach((e=>{a[e]||(r[e]="".concat(e.charAt(0).toUpperCase()+e.slice(1)," is required"))})),s.length<8&&(r.newPassword="New Password must be at least 8 characters long"),e===s&&(r.newPassword="New Password cannot be the same as the Current Password"),N(r),0===Object.keys(r).length})()){P(!0);try{const r=await u.Z.put("".concat("http://api1.chandrakala.co.in/api/Login/ChangePassword","/").concat(s.userId),{currentPassword:a.currentPassword,newPassword:a.newPassword},{headers:{Authorization:"Bearer ".concat(null===s||void 0===s?void 0:s.token)}});200===r.status?(y({success:"Your password has been changed. Please login again.",error:""}),setTimeout((()=>{e()}),3e3)):400===r.status?y({success:"",error:"Enter Correct Old Password!"}):y({success:"",error:"Password change failed. Please try again."})}catch(r){y({success:"",error:"Enter Correct Old Password!"})}finally{P(!1)}}};return(0,h.jsx)(c.Z,{children:(0,h.jsxs)(n.Z,{onSubmit:e=>{e.preventDefault(),Z()},children:[(0,h.jsx)("h1",{children:"Password Reset"}),(0,h.jsx)("p",{children:"Change your password"}),j.success&&(0,h.jsx)(d.Z,{variant:"success",children:j.success}),j.error&&(0,h.jsx)(d.Z,{variant:"danger",children:j.error}),["currentPassword","newPassword"].map((e=>(0,h.jsx)("div",{className:"mb-4",children:(0,h.jsxs)(o.Z,{hasValidation:!0,children:[(0,h.jsx)(o.Z.Text,{children:(0,h.jsx)(x.Z,{icon:t.U})}),(0,h.jsx)(n.Z.Control,{type:g[e]?"text":"password",placeholder:"currentPassword"===e?"Current Password":"New Password",autoComplete:"currentPassword"===e?"old-password":"new-password",value:a[e],onChange:s=>((e,s)=>{if(w((a=>({...a,[e]:s}))),N((a=>({...a,[e]:s.trim()?"":"".concat(e.charAt(0).toUpperCase()+e.slice(1)," is required")}))),"newPassword"===e){const e=/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/;N((a=>({...a,newPassword:s.length<8?"New Password must be at least 8 characters long":e.test(s)?"":"Password must contain at least one letter, one number, and one special character"})))}"currentPassword"===e&&y({success:"",error:""})})(e,s.target.value),isInvalid:!!v[e]}),(0,h.jsx)(o.Z.Text,{onClick:()=>(e=>{p((s=>({...s,[e]:!s[e]})))})(e),className:"hovericon",children:g[e]?(0,h.jsx)("i",{className:"fa-solid fa-eye"}):(0,h.jsx)("i",{className:"fa-solid fa-eye-slash"})}),(0,h.jsx)(n.Z.Control.Feedback,{type:"invalid",children:v[e]})]})},e))),(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(i.Z,{xs:6,className:"align-items-start",children:(0,h.jsx)(m.Z,{type:"submit",variant:"primary",className:"px-4 ",style:{backgroundColor:"#FF725E"},disabled:b,children:b?"Changing Password...":"Change Password"})}),(0,h.jsx)(i.Z,{xs:6,className:"text-end fs-5"})]})]})})}},32445:(e,s,a)=>{a.d(s,{Z:()=>h});var r=a(72791),t=a(47022),c=a(89743),n=a(2677),d=a(81694),o=a.n(d),l=a(10162),i=a(80184);const m=r.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:t="div",...c}=e;return r=(0,l.vE)(r,"card-group"),(0,i.jsx)(t,{ref:s,className:o()(a,r),...c})}));m.displayName="CardGroup";const u=m;var x=a(54694),f=a(99033);const h=e=>{let{children:s,bgimg:a,theme:r}=e;return(0,i.jsx)("div",{children:(0,i.jsx)("main",{className:"blur-5",children:(0,i.jsx)("div",{className:"bg-body-tertiary min-vw-100 min-vh-100 d-flex align-items-center blur-5",children:(0,i.jsx)(t.Z,{fluid:!0,className:"align-items-center loginbg ",children:(0,i.jsxs)(c.Z,{className:"align-items-center justify-content-center",children:[(0,i.jsx)(n.Z,{md:8,lg:6,className:"d-flex vh-100 d-none d-lg-block ".concat(a," border-end border-4")}),(0,i.jsx)(n.Z,{sm:8,md:7,lg:6,className:"d-flex vh-100 align-items-center blur-5 shadow-left",children:(0,i.jsxs)(u,{className:"container  p-md-5 flex-column",children:[(0,i.jsx)(x.Z,{className:"d-flex flex-row align-items-center justify-content-center gap-3 rounded mb-4 text-primary",children:(0,i.jsx)("h1",{style:{color:r},children:"CUPL-Ticketing System"})}),(0,i.jsx)(x.Z,{className:"p-4 container rounded ",children:(0,i.jsx)(f.Z,{className:"m-6",children:s})})]})})]})})})})})}},93647:(e,s,a)=>{a.d(s,{U:()=>r});var r=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"]},43360:(e,s,a)=>{a.d(s,{Z:()=>i});var r=a(81694),t=a.n(r),c=a(72791),n=a(15341),d=a(10162),o=a(80184);const l=c.forwardRef(((e,s)=>{let{as:a,bsPrefix:r,variant:c="primary",size:l,active:i=!1,disabled:m=!1,className:u,...x}=e;const f=(0,d.vE)(r,"btn"),[h,{tagName:w}]=(0,n.FT)({tagName:a,disabled:m,...x}),v=w;return(0,o.jsx)(v,{...h,...x,ref:s,disabled:m,className:t()(u,f,i&&"active",c&&"".concat(f,"-").concat(c),l&&"".concat(f,"-").concat(l),x.href&&m&&"disabled")})}));l.displayName="Button";const i=l},54694:(e,s,a)=>{a.d(s,{Z:()=>_});var r=a(81694),t=a.n(r),c=a(72791),n=a(10162),d=a(99033),o=a(80184);const l=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="div",...d}=e;return r=(0,n.vE)(r,"card-footer"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...d})}));l.displayName="CardFooter";const i=l;var m=a(96040);const u=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,as:d="div",...l}=e;const i=(0,n.vE)(a,"card-header"),u=(0,c.useMemo)((()=>({cardHeaderBsPrefix:i})),[i]);return(0,o.jsx)(m.Z.Provider,{value:u,children:(0,o.jsx)(d,{ref:s,...l,className:t()(r,i)})})}));u.displayName="CardHeader";const x=u,f=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,variant:c,as:d="img",...l}=e;const i=(0,n.vE)(a,"card-img");return(0,o.jsx)(d,{ref:s,className:t()(c?"".concat(i,"-").concat(c):i,r),...l})}));f.displayName="CardImg";const h=f,w=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="div",...d}=e;return r=(0,n.vE)(r,"card-img-overlay"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...d})}));w.displayName="CardImgOverlay";const v=w,N=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="a",...d}=e;return r=(0,n.vE)(r,"card-link"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...d})}));N.displayName="CardLink";const g=N;var p=a(27472);const b=(0,p.Z)("h6"),P=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c=b,...d}=e;return r=(0,n.vE)(r,"card-subtitle"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...d})}));P.displayName="CardSubtitle";const j=P,y=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c="p",...d}=e;return r=(0,n.vE)(r,"card-text"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...d})}));y.displayName="CardText";const Z=y,C=(0,p.Z)("h5"),E=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:c=C,...d}=e;return r=(0,n.vE)(r,"card-title"),(0,o.jsx)(c,{ref:s,className:t()(a,r),...d})}));E.displayName="CardTitle";const k=E,R=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,bg:c,text:l,border:i,body:m=!1,children:u,as:x="div",...f}=e;const h=(0,n.vE)(a,"card");return(0,o.jsx)(x,{ref:s,...f,className:t()(r,h,c&&"bg-".concat(c),l&&"text-".concat(l),i&&"border-".concat(i)),children:m?(0,o.jsx)(d.Z,{children:u}):u})}));R.displayName="Card";const _=Object.assign(R,{Img:h,Title:k,Subtitle:j,Body:d.Z,Link:g,Text:Z,Header:x,Footer:i,ImgOverlay:v})},99033:(e,s,a)=>{a.d(s,{Z:()=>l});var r=a(72791),t=a(81694),c=a.n(t),n=a(10162),d=a(80184);const o=r.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:t="div",...o}=e;return r=(0,n.vE)(r,"card-body"),(0,d.jsx)(t,{ref:s,className:c()(a,r),...o})}));o.displayName="CardBody";const l=o},96040:(e,s,a)=>{a.d(s,{Z:()=>t});const r=a(72791).createContext(null);r.displayName="CardHeaderContext";const t=r},42391:e=>{var s=function(){};e.exports=s},3327:()=>{}}]);
//# sourceMappingURL=540.efbeac6e.chunk.js.map