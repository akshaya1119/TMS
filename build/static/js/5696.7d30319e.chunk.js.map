{"version":3,"file":"static/js/5696.7d30319e.chunk.js","mappings":"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","sources":["context/Security.jsx","views/Tickets/EditTicket.js"],"sourcesContent":["// SecurityContext.jsx \r\nimport { createContext, useContext } from 'react'; \r\nimport CryptoJS from 'crypto-js'; \r\nconst SecretKey = process.env.REACT_APP_SECRET_KEY || \"ghjsfysdg123\"; \r\n \r\n \r\n// Encryption and decryption functions using AES \r\nconst encrypt = (data) => { \r\n  console.log('Data to encrypt:', data); \r\n  const encryptedData = CryptoJS.AES.encrypt(data.toString(), SecretKey).toString(); \r\n  console.log('Encrypted data:', encryptedData); \r\n  return encryptedData.replace(/\\//g, ';'); \r\n}; \r\n \r\nconst decrypt = (encryptedData) => { \r\n  if (typeof encryptedData !== 'string') { \r\n    // If encryptedData is not a string, return it as is \r\n    return encryptedData; \r\n  } \r\n  encryptedData = encryptedData.replace(/;/g, '/'); \r\n  const decryptedData = CryptoJS.AES.decrypt(encryptedData, SecretKey).toString(CryptoJS.enc.Utf8); \r\n  return decryptedData; \r\n}; \r\n \r\n// Create the SecurityContext \r\nconst SecurityContext = createContext({ encrypt, decrypt }); \r\n \r\n// Custom hook to use the SecurityContext \r\nexport const useSecurity = () => useContext(SecurityContext); \r\n \r\nexport default SecurityContext;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Row, Col, Button, Form, Modal,Spinner } from 'react-bootstrap';\r\nimport './EditTicket.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCommentDots, faPaperclip, faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport { useUser } from './../../context/UserContext';\r\nimport ReactQuill from 'react-quill';  // Import ReactQuill\r\nimport 'react-quill/dist/quill.snow.css';  // Import Quill styles\r\nimport { useSecurity } from './../../context/Security';\r\n\r\nconst baseapi = process.env.REACT_APP_BASE_URL;\r\nconst userapi = process.env.REACT_APP_API_USERS;\r\nconst ticketapi = process.env.REACT_APP_API_TICKET;\r\nconst TicketTypeapi = process.env.REACT_APP_API_TICKETTYPE;\r\nconst Commentapi = process.env.REACT_APP_API_TICKETFLOW_BY_COMMENTS;\r\nconst TicketFlowapi = process.env.REACT_APP_API_TICKETFLOW;\r\nconst markcompleted = process.env.REACT_APP_API_TICKET_COMPLETED;\r\n\r\nconst toolbarOptions = [\r\n  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\r\n  ['blockquote', 'code-block'],\r\n\r\n  [{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n  [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n  [{ 'script': 'sub' }, { 'script': 'super' }],     // superscript/subscript\r\n  [{ 'indent': '-1' }, { 'indent': '+1' }],         // outdent/indent\r\n  [{ 'direction': 'rtl' }],                         // text direction\r\n\r\n  [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\r\n  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n\r\n  [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\r\n  [{ 'font': [] }],\r\n  [{ 'align': [] }],\r\n\r\n  ['clean'],                                        // remove formatting button\r\n]\r\n\r\nconst EditTicket = () => {\r\n  const { user } = useUser();\r\n  const { ticketId } = useParams();\r\n  const { decrypt } = useSecurity();\r\n  const decryptid = decrypt(ticketId);\r\n  const [formData, setFormData] = useState({\r\n    ticketId: '',\r\n    creatorName: '',\r\n    priority: '',\r\n    title: '',\r\n    department: '',\r\n    ticketType: '',\r\n    status: '',\r\n    project: '',\r\n    dueDate: '',\r\n    description: '',\r\n    assigneeName: '',\r\n    userAssigneeName: '',\r\n    userTicketType: '',\r\n    userStatus: '',\r\n    userPriority: '',\r\n    userComment: '',\r\n  });\r\n  const [showUserComment, setShowUserComment] = useState(false);\r\n  const [comments, setComments] = useState([]);\r\n  const [newComment, setNewComment] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n  const [oldDetails, setOldDetails] = useState(null);\r\n  const [assignees, setAssignees] = useState([]);\r\n  const [ticketTypes, setTicketTypes] = useState([]);\r\n  const [currentDateTime, setCurrentDateTime] = useState(null);\r\n  const [collapsed, setCollapsed] = useState(true);\r\n  const [showAttachmentModal, setShowAttachmentModal] = useState(false);\r\n  const [isImageAttachment, setIsImageAttachment] = useState(false);\r\n  const [attachedFile, setAttachedFile] = useState(null);\r\n  const [hovered, setHovered] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchTicketDetails() {\r\n      try {\r\n        const [ticketResponse, commentsResponse, assigneesResponse, ticketTypesResponse] = await Promise.all([\r\n          axios.get(`${ticketapi}/${decryptid}`),\r\n          axios.get(`${Commentapi}/${decryptid}`).catch(() => ({ data: [] })),\r\n          axios.get(userapi),\r\n          axios.get(TicketTypeapi),\r\n        ]);\r\n        setFormData(ticketResponse.data);\r\n        console.log(ticketResponse.data);\r\n        setOldDetails(ticketResponse.data);\r\n        setComments(commentsResponse.data);\r\n        setAssignees(assigneesResponse.data);\r\n        setCurrentUser(assigneesResponse.data.filter(cu => cu.userId === user.userId)[0])\r\n        console.log(assigneesResponse.data.filter(cu => cu.userId === user.userId)[0])\r\n        setTicketTypes(ticketTypesResponse.data);\r\n      } catch (error) {\r\n        console.error('Error fetching Ticket, Comments, Assignees, and Ticket Types:', error);\r\n        console.log('Error details:', error.response); // Log the entire error object\r\n        console.log('Status code:', error.response.status);\r\n        setMessage('Error fetching ticket, comments, assignees, and ticket types. Please try again.');\r\n      }\r\n    }\r\n\r\n    fetchTicketDetails();\r\n    setCurrentDateTime(new Date().toLocaleString());\r\n  }, [decryptid]);\r\n\r\n  // Function to sort comments by timestamp in descending order (newest first) \r\n  const sortCommentsByTimestampDesc = () => {\r\n    const sortedComments = [...comments].sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n    setComments(sortedComments);\r\n  };\r\n\r\n  // Function to sort comments by timestamp in ascending order (oldest first) \r\n  const sortCommentsByTimestampAsc = () => {\r\n    const sortedComments = [...comments].sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\r\n    setComments(sortedComments);\r\n  };\r\n\r\n  const toggleCollapse = () => {\r\n    setCollapsed(!collapsed);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: type === 'file' ? e.target.files : value,\r\n    }));\r\n  };\r\n\r\n\r\n  const handleFileChange = (e) => {\r\n    // Update the attachedFile state when a file is selected\r\n    setAttachedFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleToggleUserComment = () => {\r\n    if (comments.length > 0) {\r\n      const lastComment = comments[comments.length - 1]; \r\n      console.log(\"Last Comment:\", lastComment);\r\n      setFormData({\r\n        ...formData, \r\n        userAssigneeName: lastComment.newAssigneeName,\r\n        userAssigneeId:lastComment.newAssigneeId,\r\n        userTicketType: lastComment.newTicketType, \r\n        userStatus: lastComment.newStatus,\r\n        userPriority: lastComment.newPriority,\r\n        userTicketTypeId: lastComment.newTicketTypeId,\r\n      });\r\n      console.log(\"Updated Form Data:\", {\r\n        ...formData,\r\n        userAssigneeName: lastComment.newAssigneeName,\r\n        userTicketType: lastComment.newTicketType, \r\n        userStatus: lastComment.newStatus,\r\n        userPriority: lastComment.newPriority,\r\n      }); // Add this logging statement\r\n    } else {    \r\n      // If there are no comments, set the initial state of the form fields with the details of the ticket\r\n      setFormData({\r\n        ...formData,\r\n        userAssigneeName: formData.assigneeName,\r\n        userAssigneeId: formData.assigneeId, \r\n        userTicketType: formData.ticketType,\r\n        userStatus: formData.status, \r\n        userPriority: formData.priority,\r\n        userTicketTypeId: formData.ticketTypeId,\r\n      });\r\n      console.log(\"Updated FormData:\", formData); // Add this logging statement\r\n    }\r\n    setShowUserComment(!showUserComment);\r\n  };\r\n  \r\n  \r\n\r\n\r\n\r\n  const handleUserCommentChange = (value) => {\r\n    setNewComment(value);\r\n  };\r\n\r\n  const handleUserSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setLoading(true);\r\n\r\n    // Check if the current user is the creator, assignee, or reassignee\r\n    const isCreator = currentUser.fullName === formData.creatorName;\r\n    const isAssignee = currentUser.fullName === formData.assigneeName;\r\n    const isReassignee = currentUser.fullName === formData.userAssigneeName;\r\n\r\n    if (!isCreator && !isAssignee && !isReassignee) {\r\n      setMessage('You are not authorized to comment on this ticket.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const params = {\r\n        \r\n        prev: formData.assigneeId,\r\n        pre: formData.status,\r\n        newp: formData.userPriority,\r\n        pret: formData.userTicketTypeId,\r\n        newt: formData.userTicketTypeId,\r\n        newa: formData.userAssigneeId,\r\n        news: formData.userStatus,\r\n        prep: formData.priority,\r\n        ticketid: formData.ticketId,\r\n        timestamp: new Date().toISOString(),\r\n        comment: newComment,\r\n      };\r\n\r\n      const url = `${TicketFlowapi}?${new URLSearchParams(params).toString()}`;\r\n\r\n      let bodyFormData = new FormData();\r\n\r\n      if (attachedFile) {\r\n        // Append the file to the FormData\r\n        bodyFormData.append('attachment', attachedFile, attachedFile.name);\r\n      }\r\n\r\n      // Log FormData and file details to the console\r\n      console.log('FormData:', bodyFormData);\r\n      console.log('File uploaded:', attachedFile);\r\n\r\n      const response = await axios.post(url, bodyFormData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      console.log('Response:', response.data);\r\n\r\n      setComments([...comments, response.data]);\r\n      setNewComment('');\r\n      setMessage('Comment submitted successfully!');\r\n      handleToggleUserComment()\r\n      setLoading(false);\r\n      // Update old details after successful comment submission\r\n      setOldDetails(formData);\r\n    } catch (error) {\r\n      console.error('Error submitting comment:', error);\r\n      console.log('Error details:', error.response); // Log the entire error object\r\n      console.log('Status code:', error.response.status);\r\n      setMessage('Error submitting comment. Please try again.');\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const handleShowAttachmentModal = () => {\r\n    if (\r\n      formData.attachment.toLowerCase().endsWith('.png') ||\r\n      formData.attachment.toLowerCase().endsWith('.jpg') ||\r\n      formData.attachment.toLowerCase().endsWith('.jpeg') ||\r\n      formData.attachment.toLowerCase().endsWith('.gif') ||\r\n      formData.attachment.toLowerCase().endsWith('.bmp')\r\n    ) {\r\n      setIsImageAttachment(true);\r\n\r\n      // Show the modal\r\n      setShowAttachmentModal(true);\r\n    } else {\r\n      window.open(`${baseapi}/${formData.attachment.replace('wwwroot/', '')}`, '_blank');\r\n    }\r\n  };\r\n\r\n  const handleCloseAttachmentModal = () => {\r\n    setShowAttachmentModal(false);\r\n  };\r\n\r\n  const handleMouseEnter = () => {\r\n    setHovered(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setHovered(false);\r\n  };\r\n\r\n  const markAsCompleted = async () => {\r\n    try {\r\n      // Send a request to update the ticket status to \"Completed\"\r\n      const response = await axios.put(`${markcompleted}/${decryptid}`, {\r\n        status: 'Completed',\r\n      });\r\n\r\n      console.log('Response:', response);\r\n\r\n      // Check if the update was successful\r\n      if (response.status === 200 || response.status === 204) {\r\n        // Update local state to reflect the new status\r\n        setFormData((prevData) => ({\r\n          ...prevData,\r\n          status: 'Completed',\r\n        }));\r\n        setMessage('Ticket marked as completed successfully!');\r\n      } else {\r\n        setMessage('Error marking ticket as completed. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error marking ticket as completed:', error);\r\n      setMessage('Error marking ticket as completed.');\r\n    }\r\n  };\r\nconsole.log(formData)\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <div className='d-flex justify-content-between '>\r\n        <h4>Ticket Section</h4>\r\n        {user.email === formData.email && (\r\n          <Button onClick={markAsCompleted} disabled={formData.status === 'Completed'} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\r\n            {hovered ? <FontAwesomeIcon icon={faCheck} /> : ' '}\r\n            {formData.status === 'Completed' ? 'Completed' : 'Mark as Completed'}\r\n\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      <Row>\r\n        <Col>\r\n          <label htmlFor=\"creatorName\" className=\"col-form-label text-end\">\r\n            CreatorID:\r\n          </label>\r\n          <div className=\"\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"creatorName\"\r\n              name=\"creatorName\"\r\n              value={formData.creatorName}\r\n              required\r\n              disabled\r\n            />\r\n          </div>\r\n        </Col>\r\n        <Col>\r\n          <label htmlFor=\"title\" className=\"col-form-label text-end\">\r\n            Title:\r\n          </label>\r\n          <div className=\"\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              value={formData.title}\r\n              required\r\n              onChange={handleInputChange}\r\n              disabled\r\n            />\r\n          </div>\r\n        </Col>\r\n        <Col>\r\n        <label htmlFor=\"department\" className=\"col-form-label text-end\">\r\n            Department:\r\n          </label>\r\n          <div className=\"\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"department\"\r\n              name=\"department\"\r\n              value={formData.department}\r\n              required\r\n              onChange={handleInputChange}\r\n              disabled\r\n            />\r\n          </div>\r\n        </Col>\r\n        <Col>\r\n          <label htmlFor=\"project\" className=\"col-form-label text-end\">\r\n            Project:\r\n          </label>\r\n          <div className=\"\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"project\"\r\n              name=\"project\"\r\n              value={formData.project}\r\n              required\r\n              onChange={handleInputChange}\r\n              disabled\r\n            />\r\n          </div>\r\n        </Col>\r\n        <Col>\r\n          <label htmlFor=\"dueDate\" className=\"col-form-label text-end\">\r\n            Due Date:\r\n          </label>\r\n          <div className=\"\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"dueDate\"\r\n              name=\"dueDate\"\r\n              value={formData.dueDate ? formData.dueDate.split('T')[0] : ''}\r\n              required\r\n              onChange={handleInputChange}\r\n              disabled\r\n            />\r\n          </div>\r\n        </Col>\r\n\r\n\r\n        {/* Attachment Modal */}\r\n        <Modal show={showAttachmentModal} onHide={handleCloseAttachmentModal}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Attachment</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {/* Check if formData.attachment is defined before processing */}\r\n\r\n            {isImageAttachment && (<img src={`${baseapi}/${formData.attachment.replace('wwwroot/', '')}`} alt=\"Attachment\" className=\"img-fluid\" />)}\r\n\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleCloseAttachmentModal}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </Row>\r\n\r\n      <h5 className=\"mt-3 d-flex align-items-center justify-content-between\">\r\n        <div>\r\n          Discussion Forum\r\n          <Button className=\"ms-2 btn-sm\" onClick={sortCommentsByTimestampDesc}>\r\n            Sort by Newest\r\n          </Button>\r\n          <Button className=\"ms-2 btn-sm\" onClick={sortCommentsByTimestampAsc}>\r\n            Sort by Oldest\r\n          </Button>\r\n        </div>\r\n        <div>\r\n          <Button onClick={toggleCollapse}>\r\n            {collapsed ? <i className=\"fa-solid fa-angles-left\"></i> : <i className=\"fa-solid fa-angles-right\"></i>}\r\n          </Button>\r\n        </div>\r\n\r\n      </h5>\r\n\r\n      {message && (\r\n        <div className={`alert ${message.includes('successfully') ? 'alert-success' : 'alert-danger'}`} role=\"alert\">\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <Row>\r\n        <Col md={collapsed ? 12 : 9}>\r\n          {/* main data  */}\r\n          <Row>\r\n            <Col md={7}>\r\n              <div className=\"d-flex align-items-center justify-content-between mb-3\">\r\n                <label htmlFor=\"description\" className=\"col-form-label text-end\">\r\n                  Description:\r\n                </label>\r\n                <FontAwesomeIcon icon={faCommentDots} className=\"me-2 text-primary\" onClick={handleToggleUserComment} />\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  id=\"description\"\r\n                  name=\"description\"\r\n                  value={formData.description}\r\n                  required\r\n                  onChange={handleInputChange}\r\n                  rows=\"6\"\r\n                  disabled\r\n                />\r\n\r\n                {/* Show Attachment Button */}\r\n                {formData.attachment && (\r\n                  <Col>\r\n                    <Button className=\"mt-3\" onClick={handleShowAttachmentModal}>\r\n                      <FontAwesomeIcon icon={faPaperclip} className=\"me-2\" />\r\n                      Show Attachment\r\n                    </Button>\r\n                  </Col>\r\n                )}\r\n              </div>\r\n            </Col>\r\n            <Col md={5}>\r\n              <h5 className=\"mb-3\">Ticket Information</h5>\r\n              <Form>\r\n                <Form.Group as={Row} className=\"mb-3\">\r\n                  <Form.Label column sm={4}>\r\n                    Assignee:\r\n                  </Form.Label>\r\n                  <Col sm={8}>\r\n                    <Form.Select value={formData.assigneeName} onChange={handleInputChange} name=\"assigneeName\" disabled>\r\n                      <option value=\"\">Select Assignee</option>\r\n                      {assignees.map((assignee) => (\r\n                        <option key={assignee.id} value={assignee.id}>\r\n                          {assignee.fullName}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row} className=\"mb-3\">\r\n                  <Form.Label column sm={4}>\r\n                    Ticket Type:\r\n                  </Form.Label>\r\n                  <Col sm={8}>\r\n                    <Form.Select value={formData.ticketType} onChange={handleInputChange} name=\"ticketType\" disabled>\r\n                      <option value=\"\">Select Ticket Type</option>\r\n                      {ticketTypes.map((type) => (\r\n                        <option key={type.ticketTypeId} value={type.ticketType}>\r\n                          {type.ticketType}\r\n                        </option>\r\n                      ))}\r\n                    </Form.Select>\r\n                  </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row} className=\"mb-3\">\r\n                  <Form.Label column sm={4}>\r\n                    Status:\r\n                  </Form.Label>\r\n                  <Col sm={8}>\r\n                    <Form.Select value={formData.status} onChange={handleInputChange} name=\"status\" disabled>\r\n                      <option value=\"Open\">Open</option>\r\n                      <option value=\"Pending\">Pending</option>\r\n                      <option value=\"Self-Assigned\">Self-Assigned</option>\r\n                      <option value=\"Completed\">Completed</option>\r\n                    </Form.Select>\r\n                  </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row} className=\"mb-3\">\r\n                  <Form.Label column sm={4}>\r\n                    Priority:\r\n                  </Form.Label>\r\n                  <Col sm={8}>\r\n                    <Form.Select value={formData.priority} onChange={handleInputChange} name=\"priority\" disabled>\r\n                      <option value=\"high\">High</option>\r\n                      <option value=\"medium\">Medium</option>\r\n                      <option value=\"low\">Low</option>\r\n                    </Form.Select>\r\n                  </Col>\r\n                </Form.Group>\r\n              </Form>\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* my commente */}\r\n\r\n          {showUserComment && (\r\n            <Row>\r\n              <Col md={7}>\r\n                <div className=\"mt-3\">\r\n                  <label htmlFor=\"userComment\" className=\"col-form-label text-end\">\r\n                    Your Comment:\r\n                  </label>\r\n                  <div className=\"mb-3\">\r\n                    {/* Use ReactQuill only for the user's comment */}\r\n                    <ReactQuill \r\n                      value={newComment}\r\n                      onChange={handleUserCommentChange}\r\n                      modules={{ toolbar: toolbarOptions }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label htmlFor=\"attachedFile\">Attach File</Form.Label>\r\n                  <Form.Control\r\n                    type=\"file\"\r\n                    id=\"attachedFile\"\r\n                    name=\"attachedFile\"\r\n                    onChange={handleFileChange}\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n              <Col md={5}>\r\n                <Row className=\"mt-3\">\r\n                  <Form>\r\n                    <Form.Group as={Row} className=\"mb-3\">\r\n                      <Form.Label column sm={4}>\r\n                        Assignee:\r\n                      </Form.Label>\r\n                      <Col sm={8}>\r\n                        <Form.Select value={formData.userAssigneeId} onChange={handleInputChange} name=\"userAssigneeId\">\r\n                          <option value=\"\">Select Assignee </option>\r\n                          {assignees.map((assignee) => (\r\n                            <option key={assignee.userId} value={assignee.userId}>\r\n                              {assignee.fullName}\r\n                              {console.log(formData)}\r\n                            </option>\r\n                          ))}\r\n                        </Form.Select>\r\n                      </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} className=\"mb-3\">\r\n                      <Form.Label column sm={4}>\r\n                        Ticket Type:\r\n                      </Form.Label>\r\n                      <Col sm={8}>\r\n                        <Form.Select value={formData.userTicketTypeId} onChange={handleInputChange} name=\"userTicketType\">\r\n                          <option value=\"\">Select Ticket Type</option>\r\n                         \r\n                          {ticketTypes.map((type) => (\r\n                            <option key={type.ticketTypeId} value={type.ticketTypeId}>\r\n                              {type.ticketType}\r\n                            </option>\r\n                          ))}\r\n                        </Form.Select>\r\n                      </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} className=\"mb-3\">\r\n                      <Form.Label column sm={4}>\r\n                        Status:\r\n                      </Form.Label>\r\n                      <Col sm={8}>\r\n                        <Form.Select value={formData.userStatus} onChange={handleInputChange} name=\"userStatus\">\r\n                          <option value=\"\">Select Status</option>\r\n                          <option value=\"Open\">Open</option>\r\n                          <option value=\"Pending\">Pending</option>\r\n                          <option value=\"Self-Assigned\">Self-Assigned</option>\r\n                          <option value=\"Completed\">Completed</option>\r\n                        </Form.Select>\r\n                      </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} className=\"mb-3\">\r\n                      <Form.Label column sm={4}>\r\n                        Priority:\r\n                      </Form.Label>\r\n                      <Col sm={8}>\r\n                        <Form.Select value={formData.userPriority} onChange={handleInputChange} name=\"userPriority\">\r\n                          <option value=\"\">Select Priority</option>\r\n                          <option value=\"high\">High</option>\r\n                          <option value=\"medium\">Medium</option>\r\n                          <option value=\"low\">Low</option>\r\n                        </Form.Select>\r\n                      </Col>\r\n                    </Form.Group>\r\n                  </Form>\r\n                </Row>\r\n                <Button className=\"mt-3\" onClick={handleUserSubmit} disabled={loading}>\r\n                {loading ? <><Spinner animation=\"border\" size='sm' /> Submitting Comment...</> : \"Submit Your Comment\"}\r\n                  \r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          )}\r\n          {/* comments   */}\r\n          {comments.map((comment, index) => (\r\n            <>\r\n              <Row key={index} className='border p-2 align-items-center'>\r\n                <Col md={7}>\r\n                  <div className=\"d-flex align-items-center justify-content-between mb-3\">\r\n                    <label htmlFor=\"description\" className=\"col-form-label text-end\">\r\n                      <p>Comment by {comment.newAssigneeName} at {new Date(comment.timestamp).toLocaleString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' })}</p>\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <div dangerouslySetInnerHTML={{ __html: comment.comment }} />\r\n                    {/* Use dangerouslySetInnerHTML to render HTML tags */}\r\n                    {comment.attachment && (\r\n                      <div>\r\n                        <strong></strong>\r\n                        <a href={`${baseapi}/${comment.attachment.replace('wwwroot/', '')}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                          <Button>{'View Attachment'}</Button>\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n\r\n\r\n                </Col>\r\n                <Col md={5}>\r\n                  <Form>\r\n                    <Form.Group as={Row} className=\"mb-3\">\r\n                      <Form.Label column sm={4}>\r\n                        Assignee:\r\n                      </Form.Label>\r\n                      <Col sm={8}>\r\n                        <Form.Select name=\"assigneeName\" disabled>\r\n                          <option value=\"\">{comment.newAssigneeName}</option>\r\n\r\n                        </Form.Select>\r\n                      </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} className=\"mb-3\">\r\n                      <Form.Label column sm={4}>\r\n                        Ticket Type:\r\n                      </Form.Label>\r\n                      <Col sm={8}>\r\n                        <Form.Select name=\"ticketType\" disabled>\r\n                          <option value=\"\">{comment.newTicketType}</option>\r\n\r\n                        </Form.Select>\r\n                      </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} className=\"mb-3\">\r\n                      <Form.Label column sm={4}>\r\n                        Status:\r\n                      </Form.Label>\r\n                      <Col sm={8}>\r\n                        <Form.Select name=\"status\" disabled>\r\n                          <option value=\"\">{comment.newStatus}</option>\r\n\r\n                        </Form.Select>\r\n                      </Col>\r\n                    </Form.Group>\r\n                    <Form.Group as={Row} className=\"mb-3\">\r\n                      <Form.Label column sm={4}>\r\n                        Priority:\r\n                      </Form.Label>\r\n                      <Col sm={8}>\r\n                        <Form.Select name=\"priority\" disabled>\r\n                          <option value=\"\">{comment.newPriority}</option>\r\n\r\n                        </Form.Select>\r\n                      </Col>\r\n                    </Form.Group>\r\n                  </Form>\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          ))}\r\n\r\n\r\n        </Col>\r\n        {!collapsed && (\r\n          <Col md={3} className=\"border-start border-end border-2\">\r\n            {/* Progress Tracker */}\r\n            <div>\r\n              <h5 className=\"mb-3\">Progress Tracker</h5>\r\n              <ul className=\"list-group\">\r\n                {comments.map((comment, index) => (\r\n                  <li key={index} className=\"list-group-item\">\r\n                    <strong>{new Date(comment.timestamp).toLocaleString('en-US', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' })}</strong>\r\n                    <br />\r\n                    {comment.newAssigneeEmail && (\r\n                      <span>\r\n                        Assigned to: {comment.newAssigneeEmail}\r\n                      </span>\r\n                    )}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </Col>\r\n        )}\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditTicket;\r\n\r\n"],"names":["SecretKey","process","REACT_APP_SECRET_KEY","SecurityContext","createContext","encrypt","data","console","log","encryptedData","CryptoJS","toString","replace","decrypt","Utf8","useSecurity","useContext","baseapi","toolbarOptions","EditTicket","user","useUser","ticketId","useParams","decryptid","formData","setFormData","useState","creatorName","priority","title","department","ticketType","status","project","dueDate","description","assigneeName","userAssigneeName","userTicketType","userStatus","userPriority","userComment","showUserComment","setShowUserComment","comments","setComments","newComment","setNewComment","message","setMessage","oldDetails","setOldDetails","assignees","setAssignees","ticketTypes","setTicketTypes","currentDateTime","setCurrentDateTime","collapsed","setCollapsed","showAttachmentModal","setShowAttachmentModal","isImageAttachment","setIsImageAttachment","attachedFile","setAttachedFile","hovered","setHovered","currentUser","setCurrentUser","loading","setLoading","useEffect","async","ticketResponse","commentsResponse","assigneesResponse","ticketTypesResponse","Promise","all","axios","get","concat","catch","filter","cu","userId","error","response","fetchTicketDetails","Date","toLocaleString","handleInputChange","e","name","value","type","target","prevData","files","handleToggleUserComment","length","lastComment","newAssigneeName","userAssigneeId","newAssigneeId","newTicketType","newStatus","newPriority","userTicketTypeId","newTicketTypeId","assigneeId","ticketTypeId","handleCloseAttachmentModal","_jsxs","className","children","_jsx","email","Button","onClick","put","disabled","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","FontAwesomeIcon","icon","faCheck","Row","Col","htmlFor","id","required","onChange","split","Modal","show","onHide","Header","closeButton","Title","Body","src","attachment","alt","Footer","variant","sortCommentsByTimestampDesc","sortedComments","sort","a","b","timestamp","sortCommentsByTimestampAsc","toggleCollapse","includes","role","md","faCommentDots","rows","handleShowAttachmentModal","toLowerCase","endsWith","window","open","faPaperclip","Form","Group","as","Label","column","sm","Select","map","assignee","fullName","ReactQuill","modules","toolbar","Control","event","preventDefault","isCreator","isAssignee","isReassignee","params","prev","pre","newp","pret","newt","newa","news","prep","ticketid","toISOString","comment","url","URLSearchParams","bodyFormData","FormData","append","post","headers","_Fragment","Spinner","animation","size","index","year","month","day","hour","minute","dangerouslySetInnerHTML","__html","href","rel","newAssigneeEmail"],"sourceRoot":""}